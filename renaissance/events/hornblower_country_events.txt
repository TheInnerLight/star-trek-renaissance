##############################
#
#    NEW COUNTRY EVENTS
#
##############################

namespace = country

@days_to_assimilation = 300
@years_of_revanchist = 5
@ocupation_level_threshold = 1

@captains_log_time = 1470 # Four years, 1 month
@one_year = 360
@five_years = 1800
@ten_years = 3600
@twenty_years = 7200
@twenty_five_years = 9000
@thirty_years = 10800

#####################################
##### FEDERATION COUNTRY EVENTS #####
#####################################

######################################################################
# Captain's Log (CAPTAIN93)
# country.8055, country.8056
# GD_TAG: 1 STEP Federation Exclusive Original
######################################################################

### Trigger
country_event = {
	id = country.8055
	hide_window = yes
	is_triggered_only = yes
	# fire_only_once = yes

	# mean_time_to_happen = {
	# 	years = 2
	# }

	trigger = {
		NOT = {
			has_country_flag = captains_log_event
		}
		is_ai = no
		is_ufop = yes
		# is_tutorial_active = no
		days_passed >= @captains_log_time # Spawns 4 years, 1 month or more from game start
	}

	immediate = {
		set_country_flag = captains_log_event
		country_event = { id = country.8056 days = 30 } #Triggers Captain's Log
	}
}

### Captain's Log
country_event = {
	id = country.8056
	title = "country.8056.name"
	desc = "country.8056.desc"
	picture = GFX_evt_galactic_peace_summit
	show_sound = event_galactic_peace_summit

	is_triggered_only = yes

	### Oh...
	option = {
		name = country.8056.a
		custom_tooltip = country.8056.a.tt

		add_monthly_resource_mult = { 
			resource = research 
			value = @tier1researchreward 
			min = @tier1researchmin 
			max = @tier1researchmax 
		}
	}
}

######################################################################
# Shut Up, Wesley! (WESLEY95)
# country.8070, country.8071, country.8072
# GD_TAG: 1 STEP Federation Exclusive Original
######################################################################

### Trigger
country_event = {
	id = country.8070
	hide_window = yes
	is_triggered_only = yes
	# fire_only_once = yes

	# mean_time_to_happen = {
	# 	years = 2
	# }

	trigger = {
		NOT = {
			has_country_flag = wesley_event
		}
		is_ai = no
		is_ufop = yes
		# is_tutorial_active = no
		days_passed >= @twenty_years # Spawns 20 or more years from game start
	}

	immediate = {
		set_country_flag = wesley_event
		country_event = { id = country.8071 days = 30 } #Triggers Shut Up, Wesley!
	}
}

### Shut Up, Wesley!
country_event = {
	id = country.8071
	title = "country.8071.name"
	desc = "country.8071.desc"
	picture = GFX_evt_starbase_background_ufop
	show_sound = event_hail_frequency

	is_triggered_only = yes

	### Hear Wesley Out
	option = {
		name = country.8071.a
		custom_tooltip = country.8071.a.tt

		hidden_effect = {
			country_event = { id = country.8072 days = 10 } #Triggers Speak Up, Wesley!
		} 
	}

	### Dismiss
	option = {
		name = country.8071.b
		custom_tooltip = country.8071.b.tt
	}
}

### Speak Up, Wesley!
country_event = {
	id = country.8072
	title = "country.8072.name"
	desc = "country.8072.desc"
	picture = GFX_evt_starbase_background_ufop
	show_sound = event_galactic_peace_summit

	is_triggered_only = yes

	### Promote Wesley
	option = {
		name = country.8072.a
		custom_tooltip = country.8072.a.tt

		add_monthly_resource_mult = { 
			resource = unity 
			value = @tier2unityreward 
			min = @tier2unitymin 
			max = @tier2unitymax 
		}
	}

	### Request Apology
	option = {
		name = country.8072.b
		custom_tooltip = country.8072.b.tt

		add_resource = {
			influence = 10
		}
	}
}

######################################################################
# Memory Alpha (MEMORY97)
# country.8090, country.8091, country.8092
# GD_TAG: 2 STEP Federation Exclusive Original
######################################################################

### Trigger
country_event = {
	id = country.8090
	hide_window = yes
	is_triggered_only = yes
	# fire_only_once = yes

	# mean_time_to_happen = {
	# 	years = 2
	# }

	trigger = {

		NOT = {
			has_country_flag = memory_alpha_event
		}
		# is_tutorial_active = no
		is_ai = no
		is_ufop = yes
		has_tradition = tr_research_adopt
		days_passed >= @five_years # Spawns 5 or more years from game start
	}

	immediate = {
		set_country_flag = memory_alpha_event
		country_event = { id = country.8091 days = 30 } #Triggers Memory Alpha
	}
}

### Memory Alpha
country_event = {
	id = country.8091
	title = "country.8091.name"
	desc = "country.8091.desc"
	picture = GFX_evt_memory_planet_space_enterprise_ufop
	show_sound = event_space_travel
	location = FROM

	is_triggered_only = yes

	### Participate
	option = {
		name = country.8091.a
		custom_tooltip = country.8091.a.tt

		add_resource = {
			energy = -100
			research = 500
		}

		# Enables Special Project "Mind Program"
		enable_special_project = {
			name = "MIND_PROGRAM"
			location = event_target:denobula_planet #Denobula IV
			owner = ROOT
		}
	}

	### Dismiss
	option = {
		name = country.8091.b
		custom_tooltip = country.8091.b.tt

		add_resource = {
			unity = 500
		}
	}
}

### Memory Planet Mind Program (Special Project: Success)
country_event = {
	id = country.8092
	title = "country.8092.name"
	desc = "country.8092.desc"
	picture = GFX_evt_memory_planet_space_enterprise_ufop
	show_sound = event_space_travel

	is_triggered_only = yes

	### Worth The Wait
	option = {
		name = country.8092.a
		custom_tooltip = country.8092.a.tt

		add_resource = {
			research = 100
			unity = 500
		}
	}
}

### Memory Planet Misses Out (Special Project: Fail)
country_event = {
	id = country.8093
	title = "country.8093.name"
	desc = "country.8093.desc"
	picture = GFX_evt_memory_planet_space_enterprise_ufop
	show_sound = event_space_travel

	is_triggered_only = yes

	### Worth The Wait
	option = {
		name = country.8093.a
		custom_tooltip = country.8093.a.tt

		add_resource = {
			research = -100
		}
	}
}


#####################################
###### KLINGON COUNTRY EVENTS #######
#####################################

# Klingon - control UFOP systems
# Triggered from on_system_gained
# From = system
# FromFrom = country (previous owner)
# This = country (new owner)
country_event = {
	id = country.450
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = fromfrom
		fromfrom = { is_ufop = yes }
		is_klingon = yes
	}
	
	immediate = {
		change_variable = {
			which = qt_klingon_d3_controlled_systems_ufop
			value = 1
		}
	}
}

# Klingon control systems
# Triggered from on_system_gained
country_event = {
	id = country.460
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = fromfrom
		OR = {
			fromfrom = { is_major = yes	}
			fromfrom = { is_minor = yes }
		}
		is_klingon = yes
	}
	
	immediate = {
		change_variable = {
			which = qt_klingon_d3_controlled_systems
			value = 1
		}
	}
}

######################################################################
# Kurak's Breakthrough (KURAK60)
# country.8044, country.8045
# GD_TAG: 1 STEP Material Klingon Exclusive Original
######################################################################

### Trigger
country_event = {
	id = country.8044
	hide_window = yes
	is_triggered_only = yes
	# fire_only_once = yes

	# mean_time_to_happen = {
	# 	years = 2
	# }

	trigger = {
		NOT = {
			has_country_flag = kurak_event
		}
		is_ai = no
		is_klingon = yes
		days_passed >= @twenty_years # Spawns 20 or more years from game start
	}

	immediate = {
		set_country_flag = kurak_event
		country_event = { id = country.8045 days = 30 } #Triggers Kurak's Breakthrough
	}
}

### Kurak's Breakthrough
country_event = {
	id = country.8045
	title = "country.8045.name"
	desc = "country.8045.desc"
	picture = GFX_evt_lab_research_klingon
	show_sound = event_plantlife_flora_bio_lab

	is_triggered_only = yes

	### Sensors
	option = {
		name = country.8045.a
		custom_tooltip = country.8045.a.tt

		IF = { # Has all tiers, adds research + reward
			limit = {
				has_technology = tech_sensor_4
			}
			add_monthly_resource_mult = { 
				resource = research
				value = @tier1researchreward 
				min = @tier1researchmin 
				max = @tier1researchmax
			}
			add_monthly_resource_mult = { 
				resource = unity
				value = @tier2unityreward 
				min = @tier2unitymin 
				max = @tier2unitymax
			}
		}

		else_if = { # Adds Sensor 4
			limit = {
				has_technology = tech_sensor_3
			}
			add_tech_progress = {
				tech = tech_sensor_4
				progress = 0.25
			}
		}

		else_if = { # Adds Sensor 3
			limit = {
				has_technology = tech_sensor_2
			}
			add_tech_progress = {
				tech = tech_sensor_3
				progress = 0.25
			}
		} # Adds Sensor 2
		else = {
			add_tech_progress = {
				tech = tech_sensor_2
				progress = 0.25
			}
		}
	}

	### Impulse Engines
	option = {
		name = country.8045.b
		custom_tooltip = country.8045.b.tt

		IF = { # Has all tiers, adds research + reward
			limit = {
				has_technology = tech_engine_4
			}
			add_monthly_resource_mult = { 
				resource = research
				value = @tier1researchreward 
				min = @tier1researchmin 
				max = @tier1researchmax
			}
			add_monthly_resource_mult = {
				resource = energy
				 value = @tier1materialreward
				 min = @tier1materialmin
				 max = @tier1materialmax
			}	
		}

		else_if = { # Adds Engine 4
			limit = {
				has_technology = tech_engine_3
			}
			add_tech_progress = {
				tech = tech_engine_4
				progress = 0.25
			}
		}

		else_if = { # Adds Engine 3
			limit = {
				has_technology = tech_engine_2
			}
			add_tech_progress = {
				tech = tech_engine_3
				progress = 0.25
			}
		} # Adds Engine 2
		else = {
			add_tech_progress = {
				tech = tech_engine_2
				progress = 0.25
			}
		}
	}

	### Warp Engines
	option = {
		name = country.8045.c
		custom_tooltip = country.8045.c.tt

		IF = { # Has all tiers, adds research + reward
			limit = {
				has_technology = tech_warp_drive_3
			}
			add_monthly_resource_mult = { 
				resource = research
				value = @tier1researchreward 
				min = @tier1researchmin 
				max = @tier1researchmax
			}
			add_resource = {
				influence = 10
			}
		}

		else_if = { # Adds Warp Drive 3
			limit = {
				has_technology = tech_warp_drive_2
			}
			add_tech_progress = {
				tech = tech_warp_drive_3
				progress = 0.25
			}
		}

		else_if = { # Adds Warp Drive 2
			limit = {
				has_technology = tech_warp_drive_1
			}
			add_tech_progress = {
				tech = tech_warp_drive_2
				progress = 0.25
			}
		}
	}
}

######################################################################
# Tea for Courage (TEA61)
# country.8050, country.8051, country.8052, country.8053
# Special Project: TEATIME
# GD_TAG: 3 STEP Material Klingon Exclusive Original
######################################################################

### Trigger
country_event = {
	id = country.8050
	hide_window = yes
	is_triggered_only = yes
	# fire_only_once = yes

	# mean_time_to_happen = {
	# 	years = 2
	# }

	trigger = {
		NOT = {
			has_country_flag = tea_event
		}
		is_ai = no
		is_klingon = yes
		days_passed >= @five_years # Spawns 5 or more years from game start
	}

	immediate = {
		set_country_flag = tea_event
		country_event = { id = country.8051 days = 30 } #Triggers Poison Makes Perfect
	}
}

### Poison Makes Perfect
country_event = {
	id = country.8051
	title = "country.8051.name"
	desc = "country.8051.desc"
	picture = GFX_evt_colony_women_klingon
	show_sound = event_colony_women
    
	is_triggered_only = yes

	### Ghos!
	option = {
		name = country.8051.a
		custom_tooltip = country.8051.a.tt

		add_resource = {
			deuterium = -100
			unity = 150
		}

		hidden_effect = {
		#	begin_event_chain = {
		#		event_chain = "teatime_chain"
		#		target = THIS
		#	} #REMOVE

			### Creates Teatime Colony on Colony with least amount of Pops
			set_variable = {
				which = number_of_pops
				value = 999
			}

			every_owned_planet = {
				limit = {
					is_colony = yes
					is_capital = no
				}
				if = {
					limit = {
						check_variable = {
							which = number_of_pops
							value < trigger:num_pops
						}
					}
					set_variable = {
						which = number_of_pops
						value = trigger:num_pops
					}
					save_event_target_as = teatime_colony
				}
			}
			clear_variable = number_of_pops
		}

		enable_special_project = {
			name = "TEATIME"
			location = event_target:teatime_colony
			owner = ROOT
		}
	}

	### Trivial Demand
	option = {
		name = country.8051.b
		custom_tooltip = country.8051.b.tt

		hidden_effect = {
			country_event = { id = country.8053 days = 30 } #Triggers No Time For Tea
		}
	}
}

### Tea for Courage
country_event = {
	id = country.8052
	title = "country.8052.name"
	desc = "country.8052.desc"
	picture = GFX_evt_sickbay_klingon
	show_sound = event_space_burial

	is_triggered_only = yes

	### Blood Tea
	option = {
		name = country.8052.a
		custom_tooltip = country.8052.a.tt

		# Adds "'Iwdargh Boon" Modifier
		add_modifier = {
			modifier = iwdargh_bonus
			years = 5
		}
	}

	### Worm Tea
	option = {
		name = country.8052.b
		custom_tooltip = country.8052.b.tt

		# Adds "rachtdargh Boon" Modifier
		add_modifier = {
			modifier = rachtdargh_bonus
			years = 5
		}
	}

	### Marrow Tea
	option = {
		name = country.8052.c
		custom_tooltip = country.8052.c.tt

		# Adds "melchoQdargh Boon" Modifier
		add_modifier = {
			modifier = melchoqdargh_bonus
			years = 5
		}
	}
}

### No Time for Tea
country_event = {
	id = country.8053
	title = "country.8053.name"
	desc = "country.8053.desc"
	picture = GFX_evt_colony_women_klingon
	show_sound = event_colony_women

	is_triggered_only = yes

	### Death Tea
	option = {
		name = country.8053.a
		custom_tooltip = country.8053.a.tt

		# Adds "heghdargh" Boon Modifier
		add_modifier = {
			modifier = heghdargh_bonus
			years = 5
		}
	}	
}

######################################################################
# The High Council's Bi-Millenial Poem (POEM96)
# country.8075, country.8076, country.8077, country.8078
# GD_TAG: 3 STEP Klingon Exclusive Original
######################################################################

### Trigger
country_event = {
	id = country.8075
	hide_window = yes
	is_triggered_only = yes
	# fire_only_once = yes

	# mean_time_to_happen = {
	# 	years = 2
	# }

	trigger = {
		NOT = {
			has_country_flag = klingon_poetry_event
		}
		is_ai = no
		is_klingon = yes
		days_passed >= @ten_years # Spawns 10 or more years from game start
	}

	immediate = {
		set_country_flag = klingon_poetry_event
		country_event = { id = country.8076 days = 30 } #Triggers The High Council's Bi-Millenial Poem
	}
}

### The High Council's Bi-Millenial Poem
country_event = {
	id = country.8076
	title = "country.8076.name"
	desc = "country.8076.desc"
	picture = GFX_evt_galactic_trial_klingon
	show_sound = event_high_council_klingon

	is_triggered_only = yes

	### eHvam
	option = {
		name = country.8076.a
		custom_tooltip = country.8076.a.tt

		hidden_effect = {
			country_event = { id = country.8077 days = 10 } #Triggers Winner: eHvam
		} 
	}

	### qeylIS betleH
	option = {
		name = country.8076.b
		custom_tooltip = country.8076.b.tt

		hidden_effect = {
			country_event = { id = country.8078 days = 10 } #Triggers Winner: qeylIS betleH
		} 
	}
}

### Winner of The High Council's Bi-Millenial Poem (eHvam)
country_event = {
	id = country.8077
	title = "country.8077.name"
	desc = "country.8077.desc"
	picture = GFX_evt_galactic_trial_klingon
	show_sound = event_high_council_klingon

	is_triggered_only = yes

	### For Conquest!
	option = {
		name = country.8077.a
		custom_tooltip = country.8077.a.tt

		add_resource = {
			influence = 20
		}
	}
}

### Winner of The High Council's Bi-Millenial Poem (qeylIS betleH)
country_event = {
	id = country.8078
	title = "country.8078.name"
	desc = "country.8078.desc"
	picture = GFX_evt_galactic_trial_klingon
	show_sound = event_high_council_klingon

	is_triggered_only = yes

	### For Kahless!
	option = {
		name = country.8078.a
		custom_tooltip = country.8078.a.tt

		add_monthly_resource_mult = { 
			resource = unity
			value = @tier3unityreward 
			min = @tier3unitymin 
			max = @tier3unitymax 
		}
	}
}

#####################################
###### ROMULAN COUNTRY EVENTS #######
#####################################


######################################################################
# Tan Zhekran (TAN59)
# anomaly.7435, country.9015, country.9016
# Triggers Special Project: Tan Zhekran Puzzle
# GD_TAG: 3 STEP Material Romulan Exclusive Original / Lore
######################################################################

### Tan Zhekran Prize (Special Project Success)
country_event = {
	id = country.9015
	title = "country.9015.name"
	desc = "country.9015.desc"
	picture = GFX_evt_rocky_planet_pod_loot_romulan
	show_sound = event_rocky_planet_pod_loot

	is_triggered_only = yes

	### Output Energy
	option = {
		name = country.9015.a

		add_monthly_resource_mult = {
			resource = energy
	 		value = @tier1materialreward
	 		min = @tier1materialmin
	 		max = @tier1materialmax
		}
	}

	### Output Artificial Singularities
	option = {
		name = country.9015.b

		add_monthly_resource_mult = {
			resource = artificial_singularities
	 		value = @tier1materialreward
	 		min = @tier1materialmin
	 		max = @tier1materialmax
		}
	}

	### Output Gravitons
	option = {
		name = country.9015.c

		add_monthly_resource_mult = {
			resource = gravitons
	 		value = @tier1materialreward
	 		min = @tier1materialmin
	 		max = @tier1materialmax
		}
	}
}

### Tan Zhekran Poison (Special Project Fail)
country_event = {
	id = country.9016
	title = "country.9016.name"
	desc = "country.9016.desc"
	picture = GFX_evt_sickbay_romulan
	show_sound = event_sickbay

	is_triggered_only = yes

	### Fvadt
	option = {
		name = country.9016.a
		custom_tooltip = country.9016.a.tt

		add_resource = {
			unity = -100
		}

		if = {
			limit = {
				event_target:romulan_homeworld = {
					any_owned_pop = {
						has_job = centurion_romulan
					}
				}
			}
			
			event_target:romulan_homeworld = {
				random_owned_pop = {
					limit = {
						has_job = centurion_romulan
					} # The Centurion is immediately replaced by a lower priority job (so it's difficult to see the effect in-game.)
					kill_pop = yes
				}
			}
		}
		
		else = {
			event_target:romulan_homeworld = {
				random_owned_pop = {
					kill_pop = yes
				}
			}
		}
	}
}

######################################################################
# Yrrnh Mnrrh (YRRNH94)
# country.8065, country.8066
# GD_TAG: 1 STEP Romulan Exclusive Original
######################################################################

### Trigger
country_event = {
	id = country.8065
	hide_window = yes
	is_triggered_only = yes
	# fire_only_once = yes

	# mean_time_to_happen = {
	# 	years = 2
	# }

	trigger = {
		NOT = {
			has_country_flag = yrrnh_mnrrh_event
		}
		is_ai = no
		is_romulan = yes
		days_passed >= @ten_years # Spawns 10 or more years from game start
	}

	immediate = {
		set_country_flag = yrrnh_mnrrh_event
		country_event = { id = country.8066 days = 30 } #Triggers Yrrnh Mnrrh
	}
}

### Yrrnh Mnrrh
country_event = {
	id = country.8066
	title = "country.8066.name"
	desc = "country.8066.desc"
	picture = GFX_evt_valdore_bridge_decision_romulan
	show_sound = event_hail_frequency

	is_triggered_only = yes

	### Another Transmission
	option = {
		name = country.8066.a
		custom_tooltip = country.8066.a.tt

		add_monthly_resource_mult = { 
			resource = research 
			value = @tier1researchreward 
			min = @tier1researchmin 
			max = @tier1researchmax 
		}
	}
}

#####################################
##### CARDASSIAN COUNTRY EVENTS #####
#####################################

#########################################################################
# Elim Garak (GARAK55)
# anomaly.7415, country.9010, country.9011
# Note: The beginning of this event is in anomaly_events.
# Triggered by Special Project "Garak Garden"
# GD_TAG: 2 STEPS Material Cardassian Original / Lore
#########################################################################

### Elim Gardener (Garak Garden Special Project: Success)
country_event = {
	id = country.9010
	title = "country.9010.name"
	desc = "country.9010.desc"
	picture = GFX_evt_spy_mission_cardassian
	show_sound = event_moon_space
	location = FROM

	is_triggered_only = yes

	### So Long Garak
	option = {
		name = country.9010.a
		custom_tooltip = country.9010.a.tt

		add_monthly_resource_mult = { 
			resource = unity
			value = @tier2unityreward 
			min = @tier2unitymin 
			max = @tier2unitymax 
		}
		#Exile Elim Garak
		event_target:elim_garak_leader = {
			exile_leader_as = elim_garak_leader
		} #To use Elim Garak again: set_leader = event_target:elim_garak_leader
	}
}

### Elim Ghost (Garak Garden: Special Project Fail)
country_event = {
	id = country.9011
	title = "country.9011.name"
	desc = "country.9011.desc"
	picture = GFX_evt_spy_mission_cardassian
	show_sound = event_moon_space
	location = FROM

	is_triggered_only = yes

	### TBD
	option = {
		name = country.9011.a
		custom_tooltip = country.9011.a.tt

		# add_monthly_resource_mult = {
		# 	resource = unity
	 	# 	value = -3
	 	# 	min = -300
	 	# 	max = -3000
		# }
		#Exile Elim Garak
		event_target:elim_garak_leader = {
			exile_leader_as = elim_garak_leader
		} #To use Elim Garak again: set_leader = event_target:elim_garak_leader
	}
}

#####################################
###### GENERIC COUNTRY EVENTS #######
#####################################

#####################################
###### GENERIC COUNTRY EVENTS #######
#####################################

######################################################################
# Felicium Days (FDAYS6)
# country.8015, anomaly.7031, anomaly.7033, anomaly.7034,
# anomaly.7035, anomaly.7036, anomaly.7037, anomaly.7040,
# anomaly.7041, anomaly.7042, anomaly.7043, anomaly.7044,
# anomaly.7045, anomaly.7046, anomaly.7047, anomaly.7048,
# anomaly.7049, anomaly.7050, anomaly.7051, anomaly.7052
# GD_TAG: 21 STEP Ethics Material Exclusive Lore (TNG: Symbiosis)
# The rest of this Event Chain is in hornblower_anomaly_events
######################################################################

### Odd Flares (Felicium Days Point of Interest, Triggering Event)
country_event = {
	id = country.8015
	title = "country.8015.name"
	desc = "country.8015.desc"
	show_sound = event_solar_fusion #HRB_TODO_SOUND
	is_triggered_only = yes
	# fire_only_once = yes

	# Dynamic Images (Major Power variants)
	picture = {
		trigger = { 
			is_ufop = yes 
		}
		picture = GFX_evt_star_crash_ufop
	} 
	picture = {
		trigger = {
			is_klingon = yes
		}
		picture = GFX_evt_star_crash_klingon
	}
	picture = {
		trigger = {
			is_romulan = yes 
		}
		picture = GFX_evt_star_crash_romulan
	} 
	picture = {
		trigger = {
			is_cardassian = yes 
		}
		picture = GFX_evt_star_crash_cardassian
	}
	
	# mean_time_to_happen = {
	# 	months = 2
	# }

	trigger = {
		NOT = {
			has_country_flag = odd_flares_event
		}
		is_ai = no
		NOT = { is_tutorial_active = yes }
		num_starbases > 23
		days_passed >= @one_year # Spawns minimum 1 year after game start
	}



	immediate = {
		set_country_flag = odd_flares_event
		random_system_within_border = {
			limit = {
				NOT = {
					any_system_planet = {
						is_homeworld = yes
					}
				}
				OR = {
					is_star_class = sc_a
					is_star_class = sc_b
					is_star_class = sc_f
					is_star_class = sc_g
					is_star_class = sc_k
					is_star_class = sc_m
					is_star_class = sc_m_giant
					is_star_class = sc_t
				}
			}
			save_global_event_target_as = felicium_days_system
		}

		event_target:felicium_days_system = {
			random_system_planet = { 
				limit = {
					is_colony = no
					is_star = yes
				}

				save_global_event_target_as = felicium_days_planet
			}
		}

		begin_event_chain = {
			event_chain = "felicium_days_chain"
			target = THIS
		}
	
		create_point_of_interest = {
			id = felicium_days_poi.1
			name = "felicium_days_poi_1_title"
			desc = "felicium_days_poi_1_desc"
			event_chain = "felicium_days_chain"
			location = event_target:felicium_days_planet
		}
		
		event_target:felicium_days_planet = {
			add_anomaly = { category = felicium_days_category } #Adds Violent Solar Flares category
		}
	}

	### Track In Log
	option = {
		name = country.8015.a
	}
}

######################################################################
# Slug-o-Cola (SLUGO94)
# country.8080, country.8081, country.8082, country.8083
# GD_TAG: 3 STEP Generic Original
######################################################################

### Trigger
country_event = {
	id = country.8080
	hide_window = yes
	is_triggered_only = yes
	# fire_only_once = yes

	# mean_time_to_happen = {
	# 	years = 4
	# }

	trigger = {
		NOT = {
			has_country_flag = slug_o_cola_event
		}
		is_ai = no
		has_country_flag = already_met_the_holodeck_ferengi # Triggers if player has met Ferengi Holodeck Arcades
		days_passed >= @five_years # Spawns 5 or more years from game start
	}

	immediate = {
		set_country_flag = slug_o_cola_event
		country_event = { id = country.8081 days = 30 } #Triggers Slug-o-Cola
	}
}

### Slug-o-Cola
country_event = {
	id = country.8081
	title = "country.8081.name"
	desc = "country.8081.desc"
	picture = GFX_evt_dabo_gambling_table
	show_sound = event_dabo_gambling_table

	is_triggered_only = yes

	### Invest
	option = {
		name = country.8081.a
		custom_tooltip = country.8081.a.tt

		add_modifier = { 
			modifier = slug_o_cola_member_bonus
			days = 30
		}

		hidden_effect = {
			country_event = { id = country.8082 days = 30 } #Triggers Slug-o-Cola Membership
		} 
	}

	### Dismiss
	option = {
		name = country.8081.b
		custom_tooltip = country.8081.b.tt

		hidden_effect = {
			country_event = { id = country.8083 days = 360 } #Triggers All New Slug-o-Cola
		} 
	}
}

### Slug-o-Cola Membership
country_event = {
	id = country.8082
	title = "country.8082.name"
	desc = "country.8082.desc"
	picture = GFX_evt_dabo_gambling_table
	show_sound = event_dabo_gambling_table

	is_triggered_only = yes

	### Invest
	option = {
		name = country.8082.a
		custom_tooltip = country.8082.a.tt

		add_modifier = { 
			modifier = slug_o_cola_premium_member_bonus
			days = 60 
		}

		hidden_effect = {
			country_event = { id = country.8083 days = 60 } #Triggers Slug-o-Cola Membership
		}
	}

	### Dismiss
	option = {
		name = country.8082.b
		custom_tooltip = country.8082.b.tt

		hidden_effect = {
			country_event = { id = country.8083 days = 360 } #Triggers All New Slug-o-Cola
		} 
	}
}

### All New Slug-o-Cola!
country_event = {
	id = country.8083
	title = "country.8083.name"
	desc = "country.8083.desc"
	picture = GFX_evt_dabo_gambling_table
	show_sound = event_dabo_gambling_table

	is_triggered_only = yes

	### Invest
	option = {
		name = country.8083.a
		custom_tooltip = country.8083.a.tt

		add_modifier = {
			modifier = slug_o_cola_gold_pressed_member_bonus
			months = 6
		}
	}

	### Dismiss
	option = {
		name = country.8083.b
		custom_tooltip = country.8083.b.tt
	}
}

#########################################################################
# Terra Terraria Thrives (PEACE95)
# country.8085, country.8086
# GD_TAG: 2 STEP Generic Original
#########################################################################

### Trigger
country_event = {
	id = country.8085
	hide_window = yes
	is_triggered_only = yes
	# fire_only_once = yes

	# mean_time_to_happen = {
	# 	years = 4
	# }

	trigger = {
		NOT = {
			has_country_flag = terra_terraria_thrives_event
		}
		is_ai = no
		has_technology = tech_terraforming
		has_country_flag = terra_terraria_study
		days_passed >= @thirty_years
	}

	immediate = {
		set_country_flag = terra_terraria_thrives_event
		country_event = { id = country.8086 days = 30 } #Triggers Terra Terraria Thrives
	}
}

### Terra Terraria Thrives
country_event = {
	id = country.8086
	title = "country.8086.name"
	desc = "country.8086.desc"
	show_sound = event_plantlife_planet_crystals_arrival

	is_triggered_only = yes

	# Dynamic Images (Major Power variants)
	picture = {
		trigger = {
			is_ufop = yes 
		}
		picture = GFX_evt_plantlife_planet_crystals_arrival_ufop
	} 
	picture = {
		trigger = {
			is_klingon = yes
		}
		picture = GFX_evt_plantlife_planet_crystals_arrival_klingon
	}
	picture = {
		trigger = {
			is_romulan = yes
		}
		picture = GFX_evt_plantlife_planet_crystals_arrival_romulan
	} 
	picture = {
		trigger = {
			is_cardassian = yes
		}
		picture = GFX_evt_plantlife_planet_crystals_arrival_cardassian
	}
	
	### Federation: Astounding
	option = {

		trigger = { is_ufop = yes }

		name = country.8086.a

		IF = { # If the player already has Tech Terraforming Advanced
			limit = {
				has_technology = tech_advanced_terraforming
			}
			add_monthly_resource_mult = {
				resource = research #HRB_Research_Rework
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}

		else_if = { # Adds Progress Tech Terraforming Advanced
			limit = {
				has_technology = tech_terraforming
			}
			add_tech_progress = {
				tech = tech_advanced_terraforming
				progress = 0.25
			}
		}
	}

	### Klingon: Klingon Science
	option = {
		
		trigger = { is_klingon = yes }
		
		name = country.8086.b

		IF = { # If the player already has Tech Terraforming Advanced
			limit = {
				has_technology = tech_advanced_terraforming
			}
			add_monthly_resource_mult = {
 				resource = research
				value = 12
			}
		}

		else_if = { # Adds Progress Tech Terraforming Advanced
			limit = {
				has_technology = tech_terraforming
			}
			add_tech_progress = {
				tech = tech_advanced_terraforming
				progress = 0.25
			}
		}
	}

	### Romulan: Pioneers
	option = {

		trigger = { is_romulan = yes }
		
		name = country.8086.c

		IF = { # If the player already has Tech Terraforming Advanced
			limit = {
				has_technology = tech_advanced_terraforming
			}
			add_monthly_resource_mult = {
 				resource = research
				value = 12
			}
		}

		else_if = { # Adds Progress Tech Terraforming Advanced
			limit = {
				has_technology = tech_terraforming
			}
			add_tech_progress = {
				tech = tech_advanced_terraforming
				progress = 0.25
			}
		}
	}

	### Cardassian: Only Way Is Up
	option = {

		trigger = { is_cardassian = yes }
		
		name = country.8086.d

		IF = { # If the player already has Tech Terraforming Advanced
			limit = {
				has_technology = tech_advanced_terraforming
			}
			add_monthly_resource_mult = {
 				resource = research
				value = 12
			}
		}

		else_if = { # Adds Progress Tech Terraforming Advanced
			limit = {
				has_technology = tech_terraforming
			}
			add_tech_progress = {
				tech = tech_advanced_terraforming
				progress = 0.25
			}
		}
	}
}

#########################################################################
# Peace Out (PEACE94)
# anomaly.7630, country.7631, SP-POC22
# GD_TAG: 2 STEP Generic Original
#########################################################################

### Make Peace
country_event = {
	id = country.7631
	title = "country.7631.name"
	desc = "country.7631.desc"
	show_sound = event_space_debris_crystals
	
	is_triggered_only = yes

	# Dynamic Images (Major Power variants)
	picture = {
		trigger = {
			is_ufop = yes 
		}
		picture = GFX_evt_space_debris_crystals_ufop
	} 
	picture = {
		trigger = {
			is_klingon = yes
		}
		picture = GFX_evt_space_debris_crystals_klingon
	}
	picture = {
		trigger = {
			is_romulan = yes 
		}
		picture = GFX_evt_space_debris_crystals_romulan
	} 
	picture = {
		trigger = {
			is_cardassian = yes
		}
		picture = GFX_evt_space_debris_crystals_cardassian
	}
	
	### Diplomatic Advantage
	option = {

		trigger = { is_ufop = yes }

		name = country.7631.a
		custom_tooltip = country.7631.a.tt

		add_monthly_resource_mult = { 
			resource = research 
			value = @tier4researchreward 
			min = @tier4researchmin 
			max = @tier4researchmax 
		}
	}

	### Study Gas
	option = {
		
		trigger = { is_klingon = yes }
		
		name = country.7631.b
		custom_tooltip = country.7631.b.tt

		add_monthly_resource_mult = { 
			resource = research 
			value = @tier4researchreward 
			min = @tier4researchmin 
			max = @tier4researchmax 
		}
	}

	### Manipulative
	option = {

		trigger = { is_romulan = yes }
		
		name = country.7631.c
		custom_tooltip = country.7631.c.tt

		add_resource = {
			influence = 20
		}
	}

	### Most Interesting
	option = {

		trigger = { is_cardassian = yes }
		
		name = country.7631.d
		custom_tooltip = country.7631.d.tt

		add_resource = {
			influence = 20
		}
	}
}

##################################
#
# BORG CRISIS (VERTICAL SLICE)
# HRB_TODO: Remove eventually
#
##################################

#########################################################################
# Borg Cube (BORGCUBE12)
# country.8020, country.8021, country.8022, 
# country.8023, country.8024, country.8025, 
# country.8026, country.8027, country.8028
# GD_TAG: 9-STEP Fed Lore
# This event is triggered in 00_hornblower_event_chains
#########################################################################

### Triggering Event 
country_event = {
	id = country.8020
	hide_window = yes
	fire_only_once = yes
	
	# mean_time_to_happen = {
	# 	years = 45
	# }

	trigger = {
		always = no
		# is_ai = no
		# num_starbases > 40
	}

	immediate = {
		country_event = { id = country.8021 } #Triggers Event Chain Trigger Conditions
	}
}

### Event Chain Trigger Conditions
country_event = {
	id = country.8021
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_system_within_warp_area = {
			limit = {
				NOT = { is_inside_border = ROOT }
				NOT = { is_star_class = sc_highway_node }
				
				has_presence = no
				has_access_fleet = ROOT
				
				ROOT = {
					intel_level = {
						level = none
						system = PREV
					}
				}
			}
			save_global_event_target_as = borg_cube_system
		}

		# If the player has intel on all systems within logistic warp range
		if = {
			limit = { 
				NOT = { exists = event_target:borg_cube_system }				
			}

			random_system_within_warp_area = {
				limit = {
					NOT = { is_inside_border = ROOT }
					NOT = { is_star_class = sc_highway_node }
					has_presence = no
				}
				save_global_event_target_as = borg_cube_system
			}
		}
		
		# Spawn Borg Country
		if = {
			limit = { exists = event_target:borg_cube_system }
			
			event_target:borg_cube_system = {
				random_system_planet = { 
					limit = { is_colony = no }
									
					save_global_event_target_as = borg_cube_planet
				}
			}
												
			# Create Neutral Borg Country
			create_country = {
				name = "NAME_Borg"
				type = borg

				flag = {
					icon = {
						category = "special"
						file = "flag_borgcube.dds"
					}

					background = {
						category = "backgrounds"
						file = "00_solid.dds"
					}

					colors = {
						"green"
						"black"
						"null"
						"null"
					}
				}

				effect = {
					set_faction_hostility = { 
						set_hostile = no
						set_neutral = yes
						set_friendly = no
					}
				}
			}
			
			last_created_country = {
				save_global_event_target_as = borg_cube_country
			}

			# Spawns Borg Cube
			create_fleet = {
				name = "NAME_Borg"
				settings = { spawn_debris = no }
						
				effect = {
					set_owner = event_target:borg_cube_country

					create_ship = {
						design = "NAME_BorgCube"
						effect = { 
							set_disabled = yes
						}
					}
					
					set_location = {
						target = event_target:borg_cube_planet
						distance = 100
						angle = random
					}
				}
			}

			last_created_ship = {
				save_global_event_target_as = borg_cube_ship
			}

			last_created_fleet = {
				save_global_event_target_as = borg_cube_fleet
			}

			
			country_event = { id = country.8022 } #Triggers Mysterious Structure
		}
		else = {
			country_event = { id = country.8020 days = 1 } #Loops Step 1 & 2 (Triggering Event & Event Chain Trigger Conditions)
		}
	}
}

### Mysterious Structure
country_event = {
	id = country.8022
	title = "country.8022.name"
	desc = "country.8022.desc"
	picture = GFX_evt_borg_cube_shadow #HRB_TODO_IMAGE PLACEHOLDER
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER
	location = event_target:borg_cube_system
	is_triggered_only = yes

	### Track In Log
	option = {
		name = country.8022.a

		hidden_effect = {
			begin_event_chain = {
				event_chain = "borg_cube_chain"
				target = THIS
			}
		}

		enable_special_project = {
			name = "SCAN_BORG_CUBE"
			location = event_target:borg_cube_fleet
			owner = ROOT
		}
	}
}

# # On Enter Borg System
# fleet_event = {
# 	id = country.8023
# 	hide_window = yes
# 	is_triggered_only = yes

# 	trigger = {
# 		OWNER = {
# 			has_origin = origin_ufop
# 			NOT = { has_country_flag = borg_system_visited }
# 		}

# 		exists = event_target:borg_cube_system
# 		exists = FROM
# 		FROM = {
# 			is_same_value = event_target:borg_cube_system
# 		}
# 	}

# 	immediate = {
# 		OWNER = {
# 			set_country_flag = borg_system_visited
# 			country_event = { id = country.8024} # Triggers Alloy Cube
# 		}
# 	}
# }

### Alloy Cube
# country_event = {
# 	id = country.8024
# 	title = "country.8024.name"
# 	desc = "country.8024.desc"
# 	picture = GFX_evt_borg_cube_shadow #HRB_TODO_IMAGE PLACEHOLDER
# 	show_sound = event_sensor_ping #HRB_TODO_SOUND PLACEHOLDER
# 	location = event_target:borg_cube_system 
# 	is_triggered_only = yes
	
# 	### Make It So
# 	option = {
# 		name = country.8024.a

# 		owner = {
# 			add_monthly_resource_mult = {
# 				resource = research #HRB_Research_Rework
# 				value = @tier1researchreward
# 				min = @tier1researchmin
# 				max = @tier1researchmax
# 			}
# 		}
# 	}
# }

### On Success = "SCAN_BORG_CUBE" Special Project
### Alloy Hivemind
country_event = {
	id = country.8025
	title = "country.8025.name"
	desc = "country.8025.desc"
	picture = GFX_evt_borg_cube #HRB_TODO_IMAGE PLACEHOLDER
	show_sound = event_structural_collapse #HRB_TODO_SOUND PLACEHOLDER
	location = event_target:borg_cube_fleet 
	is_triggered_only = yes
	
	### We Are The Federation
	option = {
		name = country.8025.a

		owner = {
			add_monthly_resource_mult = {
				resource = research #HRB_Research_Rework
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		
		hidden_effect = {
			hidden_effect = {
				add_event_chain_counter = { 
					event_chain = "borg_cube_chain" 
					counter = "borg_system_found" 
					amount = 1 
				}
			}
			establish_communications_no_message = event_target:borg_cube_country
			country_event = { id = country.8026 days = 1 } #Triggers The Borg
		}
	}
}

### The Borg
country_event = {
	id = country.8026
	title = "country.8026.name"
	desc = "country.8026.desc"
	picture = GFX_evt_borg_cube #HRB_TODO_IMAGE PLACEHOLDER
	show_sound = event_structural_collapse #HRB_TODO_SOUND PLACEHOLDER
	location = event_target:borg_cube_fleet 
	is_triggered_only = yes

	### Reason With Them
	option = {
		name = country.8026.a
		custom_tooltip = country.8026.a.tt

		#HRB_TODO_FACTIONS_REMOVAL: Removed pacifist faction support
		owner = {
			add_monthly_resource_mult = {
				resource = research #HRB_Research_Rework
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		
		hidden_effect = {
			country_event = { id = country.8027 days = 1 } #Triggers Resistance Is Futile
		}
	}

	### Send Reinforcements
	option = {
		name = country.8026.b
		custom_tooltip = country.8026.b.tt

		#HRB_TODO_FACTIONS_REMOVAL: Removed militarist faction support
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier3unityreward
				min = @tier3unitymin
				max = @tier3unitymax
			}
		}
		
		hidden_effect = {
			country_event = { id = country.8027 days = 1 } #Triggers Resistance Is Futile
		}
	}
}

### Resistance Is Futile
country_event = {
	id = country.8027
	title = "country.8027.name"
	desc = "country.8027.desc"
	picture = GFX_evt_borg_cube #HRB_TODO_IMAGE PLACEHOLDER
	show_sound = event_structural_collapse #HRB_TODO_SOUND PLACEHOLDER
	location = event_target:borg_cube_fleet 
	is_triggered_only = yes

	### Red Alert. Fire
	option = {
		name = country.8027.a
		custom_tooltip = country.8027.a.tt

		#HRB_TODO_FACTIONS_REMOVAL: Removed militarist faction support
		owner = {
			add_monthly_resource_mult = {
				resource = influence
				value = @tier4influencereward
				min = @tier4influencemin
				max = @tier4influencemax
			}
		}
	}

	### Raise Shields
	option = {
		name = country.8027.b
		custom_tooltip = country.8027.b.tt

		#HRB_TODO_FACTIONS_REMOVAL: Removed pacifist faction support
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = @tier4unityreward
				min = @tier4unitymin
				max = @tier4unitymax
			}
		}
	}

	after = {
		hidden_effect = {
			end_event_chain = borg_cube_chain

			event_target:borg_cube_country = {
				set_faction_hostility = { set_hostile = yes }
			}
	
			event_target:borg_cube_fleet = {
				set_fleet_stance = aggressive
				set_aggro_range_measure_from = self
				set_aggro_range = 500
			}

			event_target:borg_cube_ship = {
				set_disabled = no
			}
	
			# HRB_TODO: Balance days to country.8030
			country_event = { id = country.8028 days = 10 } # The Borg Menace
			country_event = { id = country.8030 days = @days_to_assimilation }	#Begins Earth Assimilation Event
		}
	}
}

### The Borg Menace
country_event = {
	id = country.8028
	title = "country.8028.name"
	desc = "country.8028.desc"
	picture = GFX_evt_borg_cube #HRB_TODO_IMAGE PLACEHOLDER
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER
	is_triggered_only = yes

	### Remain Vigilant
	option = {
		name = country.8028.a
	}
}


#########################################################################
# Borg Cube Attack (BORGATT13) (Part 2 of the Borg Cube Event)
# country.8030, country.8031, country.8032, country.8033, country.8034, 
# country.8035, country.8036, country.8037, country.8038, country.8039
# GD_TAG: 10-STEP Fed Lore
# This event is triggered in 00_hornblower_event_chains
#########################################################################


### Borg Cube Warps to Earth
country_event = {
	id = country.8030
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		event_target:borg_cube_fleet = {
			queue_actions = {
				direct_move_to = event_target:ufop_primary_star
			}
	  	}

		country_event = { id = country.8031 days = 1 } # Borg Cube -> Attack Sol Station
	}
}

### Borg Cube Attacks Sol Station
country_event = {
	id = country.8031
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		event_target:borg_cube_fleet = {
			# Check Borg Cube is already in Sol
			if = {
				limit = {
					exists = solar_system
					solar_system = {
						is_same_value = event_target:ufop_homeworld.solar_system
					}
				}
				queue_actions = {
					move_to = event_target:ufop_military_station
				}
			}
			else = {
				ROOT = { country_event = { id = country.8031 days = 1 } } #Loops Step 1 (Borg Cube Warps to Earth)
			}
	  	}
	}
}

### Borg Cube Disables Sol Starbase (Triggered by: on_ship_disabled)
ship_event = {
	id = country.8032
	hide_window = yes
	is_triggered_only = yes
	
	# THIS = Ship
	# FROM = Disabler Ship
	trigger = {
		exists = event_target:ufop_sol_starbase_ship
		THIS = {
			is_same_value = event_target:ufop_sol_starbase_ship
		}

		exists = event_target:borg_cube_ship
		FROM = {
			is_same_value = event_target:borg_cube_ship
		}
	}
	
	immediate = {
		# Disable Sol Starbase
		event_target:ufop_primary_star.solar_system = {
			random_fleet_in_system = {
				limit = {
					is_ship_class = shipclass_starbase
				}

				THIS.starbase = {
					remove_starbase_module = { module = all }
					remove_starbase_building = { building = all }
				}
			}
		}

		THIS = { 
			owner = { country_event = { id = country.8033 } } #Triggers Borg Cube Orbits Earth
		}
	}
}

### Borg Cube Orbits Earth
country_event = {
	id = country.8033
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		# Borg Cube Orbits Earth Action
		event_target:borg_cube_fleet = {
			queue_actions = {
				orbit_planet = event_target:ufop_homeworld
			}
	  	}

		country_event = { id = country.8034 days = 1 } #Triggers Borg Cube Orbits Earth Check
	}
}

### Borg Cube enters Earth's orbit
# Triggered by: on_fleet_enter_orbit
# fleet_event = {
#     id = country.8034
#     is_triggered_only = yes
#     hide_window = yes

# 	# FROM = Planet scope
# 	# THIS = Fleet scope
#     trigger = {
# 		exists = event_target:ufop_homeworld
#         FROM = {
#             is_same_value = event_target:ufop_homeworld
#         }

# 		exists = event_target:borg_cube_fleet
#         THIS = {
#             is_same_value = event_target:borg_cube_fleet
#         }
#     }

# 	immediate = {
# 		FROM = {
# 			OWNER = {
# 				country_event = { id = country.8035 days = 1 }
# 			}
# 		}
# 	}
# }

### Borg Cube Orbits Earth Check
country_event = {
	id = country.8034
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		event_target:borg_cube_fleet = {
			if = {
				limit = {
					exists = orbit
					exists = event_target:ufop_homeworld
					orbit = { is_same_value = event_target:ufop_homeworld }
				}
				ROOT = { country_event = { id = country.8035 days = 1 } } #Triggers Borg Assimilation Special Project
			}
			else = {
				ROOT = { country_event = { id = country.8034 days = 1 } } #Loops Borg Cube Orbits Earth Check
			}
	  	}
	}
}

### Borg Assimilation Special Project
country_event = {
	id = country.8035
	title = "country.8035.name"
	desc = "country.8035.desc"
	picture = GFX_evt_borg_cube #HRB_TODO_IMAGE PLACEHOLDER
	show_sound = event_space_battle #HRB_TODO_SOUND PLACEHOLDER
	location = event_target:ufop_homeworld
	is_triggered_only = yes

	option = {
		name = country.8035.a

		hidden_effect = {
			begin_event_chain = {
				event_chain = borg_cube_earth_assimilation
				target = ROOT
			}

			country_event = { id = country.8038 } #Triggers Borg Cube MIA (Hidden)
		}

		enable_special_project = {
			name = "BORG_CUBE_EARTH_ASSIMILATION"
			location = event_target:borg_cube_fleet
			owner = ROOT
		}
	}
}

### Assimilation Complete (Triggered by Special Project BORG_CUBE_EARTH_ASSIMILATION on_fail)
country_event = {
	id = country.8036
	title = "country.8036.name"
	desc = "country.8036.desc"
	picture = GFX_evt_borg_cube #HRB_TODO_IMAGE PLACEHOLDER
	show_sound = event_ship_explosion #HRB_TODO_SOUND PLACEHOLDER
	location = event_target:ufop_homeworld
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			end_event_chain = borg_cube_earth_assimilation

			event_target:ufop_homeworld = {
				destroy_colony = yes
				change_pc = pc_assimilated
				reset_planet = yes
			}
		}
	}

	option = {
		name = country.8036.a

		hidden_effect = {
			event_target:ufop_homeworld.solar_system = {
				every_fleet_in_system = {
					limit = {
						NOR = {
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_military
							is_ship_class = shipclass_military_special
						}
					}
					delete_fleet = THIS
				}
			}

			event_target:borg_cube_fleet = {
				queue_actions = {
					repeat = {
						find_random_planet = {
							found_planet = { move_to = THIS }
						}
					}
				}
			}
		}

		# hidden_effect = {
		# 	country_event = { id = country.8039 days = 1 } #Triggers Thanks for Playing!
		# }
	}
}

# ### Borg Cube Defeated (Hidden) (Triggered by: on_ship_destroyed_victim)
# country_event = {
# 	id = country.8037
# 	hide_window = yes
# 	is_triggered_only = yes
	
# 	# THIS = owner of fleet 1 (destroyed)
# 	# FROM = owner of fleet 2 (combatant)
# 	# FROMFROM = fleet 1 (destroyed)
# 	# FROMFROMFROM = fleet 2 (combatant)
# 	trigger = {
# 		FROMFROM = { is_ship_size = borgcube_size_large }
# 	}

# 	immediate = {
# 		if = {
# 			limit = {
# 				FROM = {
# 					has_origin = origin_ufop
# 				}
# 			}
# 			FROM = {
# 				country_event = { id = country.8039 } #Triggers Thanks for Playing!
# 			}
# 		}
# 	}
# }

### Borg Cube MIA (Hidden)
country_event = {
	id = country.8038
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		# Check if we are already at Sol, otherwise it would fail
		# if = {
		# 	limit = {
		# 		exists = event_target:borg_cube_fleet
		# 	}

		# 	event_target:borg_cube_fleet = {
		# 		if = {
		# 			limit = { 					
		# 				exists = solar_system
		# 				solar_system = {
		# 					NOT = { is_same_value = event_target:ufop_homeworld.solar_system }
		# 				}
		# 			}
		# 			country_event = { id = country.8039 }
		# 		}
		# 		else = {
		# 			ROOT = { country_event = { id = country.8038 days = 1 } } #Loops Borg Cube MIA (Hidden)
		# 		}
		# 	}
		# }
	}
}

# ### Thanks for Playing!
# country_event = {
# 	id = country.8039
# 	title = "country.8039.name"
# 	desc = "country.8039.desc"
# 	picture = GFX_evt_borg_cube #HRB_TODO_IMAGE PLACEHOLDER
# 	show_sound = event_celebration #HRB_TODO_SOUND PLACEHOLDER
# 	is_triggered_only = yes

# 	immediate = {
# 		hidden_effect = {
# 			end_event_chain = borg_cube_earth_assimilation
# 		}
# 	}

# 	### Thanks for Playing Hornblower!
# 	option = {
# 		name = country.8039.a
# 	}
# }

################################################################################################################################

# # Logistic Warp Range Tech Trigger (delete or comment after QA Pass)
# country_event = {
# 	id = country.9999
# 	hide_window = yes
# 	is_triggered_only = yes

# 	immediate = {
# 		give_technology = { tech = tech_test_warp_range_add message = yes }
# 	}
# }

################################
#
#	HRB Initializer Event
#
################################


# Minors Initializers
country_event = {
	id = country.9004
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_minor = yes
	}

	immediate = {
		hidden_effect = {

			every_owned_fleet = {
				limit = {
					is_ship_class = shipclass_military
				}
				
				delete_fleet = {
					target = THIS
					destroy_template = yes
				}
			}

			home_planet.solar_system = {
				every_fleet_in_system = {
					limit = {
						OR = {
							is_ship_class = shipclass_starbase
						}
					}
					save_event_target_as = minor_home_starbase
				}
			}

			create_fleet = {
				settings = { 
					spawn_debris = no
				}
			
				effect = {
					set_fleet_stance = passive
					set_owner = ROOT

					while = {
						count = 2

						create_ship = {
							design = "NAME_Small_Minor"
							initial_officers_perc = 1
							graphical_culture = prev
						}
					}

					set_location = event_target:minor_home_starbase
				}
			}
		}
	}
}

# Klingon Modifier country_by_the_house effect
country_event = {
	id = country.9005
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = klingon
	}

	immediate = {
		hidden_effect = {
			add_modifier = {
				modifier = country_by_the_house
			}
			random_owned_planet = {
				add_modifier = {
					modifier = planet_by_the_house_positive
				}
				save_event_target_as = by_the_house_colony
			}
			every_owned_planet = {
				limit = {
					NOT = { 
						is_same_value = event_target:by_the_house_colony 
					}	
				}
				add_modifier = {
					modifier = planet_by_the_house_negative
				}
			}
		}
	}
}

# Klingon Modifier country_by_the_house effect, on_ruler_change
country_event = {
	id = country.9006
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = klingon
		has_modifier = country_by_the_house
	}

	immediate = {
		hidden_effect = {

			every_owned_planet = {
				if = {
					limit = {
						has_modifier = planet_by_the_house_positive
					}
					remove_modifier = planet_by_the_house_positive
				}
				if = {
					limit = {
						has_modifier = planet_by_the_house_negative
					}
					remove_modifier = planet_by_the_house_negative
				}
			}

			random_owned_planet = {
				add_modifier = {
					modifier = planet_by_the_house_positive
				}
				save_event_target_as = by_the_house_colony
			}

			every_owned_planet = {
				limit = {
					NOT = { 
						is_same_value = event_target:by_the_house_colony 
					}	
				}
				add_modifier = {
					modifier = planet_by_the_house_negative
				}
			}
		}
	}
}

################################
#
#		TECH EVENTS
#
################################

### Tech Starfleet Academy
# country_event = {
# 	id = country.90004
# 	hide_window = yes

# 	is_triggered_only = yes

# 	trigger = {
# 		last_increased_tech = tech_ufop_starfleet_academy_naval_program
# 	}

# 	immediate = {
# 		every_pool_leader = {
# 			limit = { leader_class = admiral }
# 			add_experience = 200
# 		}
# 	}
# }

# country_event = {
# 	id = country.90005
# 	hide_window = yes

# 	is_triggered_only = yes

# 	trigger = {
# 		last_increased_tech = tech_ufop_starfleet_advanced_academy_naval_program
# 	}

# 	immediate = {
# 		every_pool_leader = {
# 			limit = { leader_class = admiral }
# 			add_experience = 500
# 		}
# 	}
# }

# country_event = {
# 	id = country.90006
# 	hide_window = yes

# 	is_triggered_only = yes

# 	trigger = {
# 		last_increased_tech = tech_ufop_starfleet_academy_military_program
# 	}

# 	immediate = {
# 		every_pool_leader = {
# 			limit = { leader_class = general }
# 			add_experience = 200
# 		}
# 	}
# }

# country_event = {
# 	id = country.90007
# 	hide_window = yes

# 	is_triggered_only = yes

# 	trigger = {
# 		last_increased_tech = tech_ufop_starfleet_advanced_academy_military_program
# 	}

# 	immediate = {
# 		every_pool_leader = {
# 			limit = { leader_class = general }
# 			add_experience = 500
# 		}
# 	}
# }

# ### Tech UFOP Starfleet Academy
# country_event = {
# 	id = country.90008
# 	hide_window = yes

# 	is_triggered_only = yes

# 	trigger = {
# 		last_increased_tech = tech_ufop_starfleet_academy_science_program
# 	}

# 	immediate = {
# 		every_pool_leader = {
# 			limit = { leader_class = scientist }
# 			add_experience = 200
# 		}
# 	}
# }

# country_event = {
# 	id = country.90009
# 	hide_window = yes

# 	is_triggered_only = yes

# 	trigger = {
# 		last_increased_tech = tech_ufop_starfleet_advanced_academy_science_program
# 	}

# 	immediate = {
# 		every_pool_leader = {
# 			limit = { leader_class = scientist }
# 			add_experience = 500
# 		}
# 	}
# }

### ~ Tech Starfleet Academy

################################
#
#		SUBJECT EVENTS
#
################################

### Liberation Wars

@cb_liberation_war_length = -1

# On becoming Subject
country_event = {
	id = country.91000
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		this = {
			is_minor = yes
		}
		from = {
			is_major = yes
		}
	}

	immediate = {
		every_country = {
			limit = {
				is_major = yes
				NOT = { is_same_value = from }
				NOT = { has_country_flag = liberation_war_casus_belli_on_@root }
			}

			set_country_flag = liberation_war_casus_belli_on_@root
			add_casus_belli = {
				type = cb_liberation_war
				who = from
				days = @cb_liberation_war_length
			}
		}
	}
}

# On Subject changed
country_event = {
	id = country.91005
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		this = {
			is_minor = yes
		}
		from = {
			is_major = yes
		}
	}

	immediate = {
		every_country = {
			limit = {
				is_major = yes
				has_country_flag = liberation_war_casus_belli_on_@root
			}

			remove_country_flag = liberation_war_casus_belli_on_@root
			remove_casus_belli = {
				type = cb_liberation_war
				who = from
			}
		}

		if = {
			limit = {
				exists = from # Asking if Overlord exists
			}

			every_country = {
				limit = {
					is_major = yes
					NOT = { is_same_value = from }
				}
				
				set_country_flag = liberation_war_casus_belli_on_@root
				add_casus_belli = {
					type = cb_liberation_war
					who = from
					days = @cb_liberation_war_length
				}
			}
		}
	}
}

# On releasing Subject
country_event = {
	id = country.91010
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		this = {
			is_minor = yes
		}
		from = {
			is_major = yes
		}
	}

	immediate = {
		every_country = {
			limit = {
				is_major = yes
				NOT = { is_same_value = from }
				has_country_flag = liberation_war_casus_belli_on_@root
			}

			remove_country_flag = liberation_war_casus_belli_on_@root

			if = {
				limit = {
					has_country_id = ufop
					root = {
						has_country_flag = bajoran
					}
				}
				set_country_flag = bajoran_liberated_by_ufop
			}

			remove_casus_belli = {
				type = cb_liberation_war
				who = from
			}
		}
	}
}

################################
#
#		STEALING EVENTS
#
################################

# Steal stuff
country_event = {
	id = country.99990
	hide_window = yes
	
	is_triggered_only = yes

	immediate = {
		random_list = {
			100 = { }
			0 = {
				modifier = {
					add = 25
					check_variable = {
						which = steal_chance_var
						value > 25
					}
				}

				modifier = {
					add = 25
					check_variable = {
						which = steal_chance_var
						value > 50
					}
				}

				country_event = { id = country.99991 }
			}
		}

		if = {
			limit = {
				is_variable_set = steal_chance_var
			}

			set_variable = { which = steal_chance_var value = 0 }
		}
	}
}

# Thieves
country_event = {
	id = country.99991
	title = country.99991.name
	desc = country.99991.desc
	location = event_target:stealing_fleet
	show_sound = event_computer_malfunction

	# Dynamic Images (Major Power variants)
	# SCOPES: THIS = PLANET, FROM = COUNTRY
	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_computer_malfunction_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_computer_malfunction_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_computer_malfunction_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_computer_malfunction_cardassian
	}

	# Default Image on Fail 
	picture = GFX_evt_ship_base_pirates
	
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				check_variable = {
					which = steal_chance_var
					value > 50
				}
			}
			set_country_flag = huge_steal
		}
		else_if = {
			limit = {
				check_variable = {
					which = steal_chance_var
					value > 25
				}
			}
			set_country_flag = simple_steal
		}
	}

	after = {
		if = {
			limit = { has_country_flag = huge_steal }
			remove_country_flag = huge_steal
		}
		if = {
			limit = { has_country_flag = simple_steal }
			remove_country_flag = simple_steal
		}
	}

	option = {
		name = country.99991.a

		if = {
			limit = { has_country_flag = simple_steal }

			random_list = {
				1 = { add_resource = { energy = -500 } }
				1 = { add_resource = { minerals = -500 } }
				1 = { add_resource = { food = -500 } }
				1 = { add_resource = { alloys = -500 } }
			}
		}
		else_if = {
			limit = { has_country_flag = huge_steal }

			random_list = {
				1 = { add_resource = { energy = -1000 } }
				1 = { add_resource = { minerals = -1000 } }
				1 = { add_resource = { food = -1000 } }
				1 = { add_resource = { alloys = -1000 } }
			}
		}
		else = { # minor_steal
			random_list = {
				1 = { add_resource = { energy = -250 } }
				1 = { add_resource = { minerals = -250 } }
				1 = { add_resource = { food = -250 } }
				1 = { add_resource = { alloys = -250 } }
			}
		}
	}
}

################################
#
#	 GLOBAL TENSION EVENTS
#
################################

# Called when the Country starts a War (on_war_started)
country_event = {
	id = country.25000
	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
		root = {
			save_event_target_as = attacker_country
		}
		from = {
			save_event_target_as = defender_country
		}

		if = { # War between Major Powers
			limit = {
				event_target:attacker_country = { is_major = yes }
				event_target:defender_country = { is_major = yes }
			}

			add_global_tension = {
				amount = @gt_add_tier4
				type = war_started
				country = event_target:attacker_country
			}
		}
		else_if = { # War between Major-Minor Powers
			limit = {
				OR = {
					AND = {
						event_target:attacker_country = { is_major = yes }
						event_target:defender_country = { is_minor = yes }
					}
					AND = {
						event_target:attacker_country = { is_minor = yes }
						event_target:defender_country = { is_major = yes }
					}
				}
			}

			add_global_tension = {
				amount = @gt_add_tier3
				type = war_started
				country = event_target:attacker_country
			}
		}
		else_if = { # War between Minor Powers
			limit = {
				event_target:attacker_country = { is_minor = yes }
				event_target:defender_country = { is_minor = yes }
			}

			add_global_tension = {
				amount = @gt_add_tier1
				type = war_started
				country = event_target:attacker_country
			}
		}
	}
}

# Called when a status quo has been signed (on_status_quo)
country_event = {
	id = country.25010
	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
		fromfrom = {
			save_event_target_as = attacker_country
		}
		fromfromfrom = {
			save_event_target_as = defender_country
		}

		if = { # War between Major-Major Powers
			limit = {
				event_target:attacker_country = { is_major = yes }
				event_target:defender_country = { is_major = yes }
			}

			add_global_tension = {
				amount = @gt_decrease_tier4
				type = status_quo
				country = event_target:defender_country
			}
		}
		else_if = { # War between Major-Minor Powers
			limit = {
				OR = {
					AND = {
						event_target:attacker_country = { is_major = yes }
						event_target:defender_country = { is_minor = yes }
					}
					AND = {
						event_target:attacker_country = { is_minor = yes }
						event_target:defender_country = { is_major = yes }
					}
				}
			}

			add_global_tension = {
				amount = @gt_decrease_tier3
				type = status_quo
				country = event_target:defender_country
			}
		}
		else_if = { # War between Minor-Minor Powers
			limit = {
				event_target:attacker_country = { is_minor = yes }
				event_target:defender_country = { is_minor = yes }
			}

			add_global_tension = {
				amount = @gt_tier0
				type = status_quo
				country = event_target:defender_country
			}
		}
	}
}

# Called when a Country becomes a Subject or the Overlord changes (on_becoming_subject and on_subject_change)
country_event = {
	id = country.25020
	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
		root = {
			save_event_target_as = subject_country
		}
		from = {
			save_event_target_as = overlord_country
		}

		if = { # A Minor Power is subject of a Major Power
			limit = {
				event_target:subject_country = { is_minor = yes }
				event_target:overlord_country = { is_major = yes }
			}

			if = {
				limit = { 
					OR = {
						is_tutorial_active = yes 
						days_passed < 1
					}
				}
				add_global_tension = { 
					amount = @gt_add_tier3 
					show_notification = no
					type = subjugation
					country = event_target:overlord_country
				}
			} else = {
				add_global_tension = {
					amount = @gt_add_tier3
					type = subjugation
					country = event_target:overlord_country
				}
			}
		}
		else_if = { # A Major Power is subject of a Major Power
			limit = {
				event_target:subject_country = { is_major = yes }
				event_target:overlord_country = { is_major = yes }
			}

			if = {
				limit = {
					OR = {
						is_tutorial_active = yes 
						days_passed < 1
					}
				}
				add_global_tension = { amount = @gt_add_tier4 show_notification = no }
			} else = {
				add_global_tension = {
					amount = @gt_add_tier4
					type = subjugation
					country = event_target:overlord_country
				}
			}
		}
	}
}

# Called when a Country Subject is released (on_releasing_subject)
country_event = {
	id = country.25030
	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
		root = {
			save_event_target_as = subject_country
		}
		#from = {
		#	save_event_target_as = ex_overlord_country
		#}

		if = { # A Minor Power is released
			limit = {
				event_target:subject_country = { is_minor = yes }
			}

			add_global_tension = {
				amount = @gt_decrease_tier5
				type = releasing_subject
				country = event_target:subject_country
			}
		}
		else_if = { # A Major Power is released
			limit = {
				event_target:subject_country = { is_major = yes }
			}

			add_global_tension = {
				amount = @gt_decrease_tier4
				type = releasing_subject
				country = event_target:subject_country
			}
		}
	}
}

# Called when a Country has been assimilated (on_assimilation_completed)
country_event = {
	id = country.25040
	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
		from = {
			save_event_target_as = assimilated_country
		}

		if = { # A Minor Power has been assimilated
			limit = {
				event_target:assimilated_country = { is_minor = yes }
			}

			add_global_tension = {
				amount = @gt_add_tier3
				type = assimilation
				country = event_target:assimilated_country
			}
		}
		else_if = { # A Major Power has been assimilated
			limit = {
				event_target:assimilated_country = { is_major = yes }
			}

			add_global_tension = {
				amount = @gt_add_tier4
				type = assimilation
				country = event_target:assimilated_country
			}
		}
	}
}


# THIS = System: system being occupied
# FROM = Country: Conqueror of the system
# FROMFROM = Country: Original owner of the system
# Called when a system has been fully occupied during a war

system_event = {
	id = country.25050
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		from = {
			save_event_target_as = system_conqueror
		}
		fromfrom = {
			save_event_target_as = system_original_owner
		}

		if = {
			limit = {
				event_target:system_conqueror = {
					any_war = {
						AND = {
							attacker = {
								is_same_value = event_target:system_conqueror
							}
							defender = {
								is_same_value = event_target:system_original_owner
							}
							event_target:system_original_owner = { is_major = yes }
						}
					}
					NOT = {
						is_same_value = event_target:system_original_owner
					}
				}
				
			}
			
			add_global_tension = {
				amount = @gt_add_tier1
				type = system_occupied
				country = event_target:system_conqueror
			}
		}

		if = {
			limit = {
				event_target:system_conqueror = {
					any_war = {
						AND = {
							attacker = {
								is_same_value = event_target:system_conqueror
							}
							defender = {
								is_same_value = event_target:system_original_owner
							}
							event_target:system_original_owner = { is_minor = yes }
						}
					}
					NOT = {
						is_same_value = event_target:system_original_owner
					}
				}
				
			}
			
			add_global_tension = {
				amount = @gt_add_tier1
				type = system_occupied
				country = event_target:system_conqueror
			}
		}		
	}
}

# A neutral zone has been signed
# Root = Actor
# From = Recipient
# FromFrom = Main Attacker
# FromFromFrom = Main Defender
# FromFromFromFrom = War
# Called when a Neutral Zone is signed

country_event = {
	id = country.25060
	hide_window = yes
	is_triggered_only = yes

	immediate = {

		add_global_tension = {
			amount = @gt_decrease_tier4
			type = neutral_zone
			country = root
		}

	}
}

# TEST_EVENT: Global Tension (Galactic Tension) triggers
country_event = {
	id = country.25999
	title = "Galactic Tension Triggers"
	desc = 	"Galactic Tension Lorem Ipsum"
	picture = GFX_evt_space_enterprise_travel_ufop
	show_sound = event_ship_bridge

	is_triggered_only = yes

	### TEST OPTIONS
	option = {
		name = "Increase Galactic Tension by 1"
		
		add_global_tension = { amount = 1 type = test }
	}

	option = {
		name = "Increase Galactic Tension by 5"
		
		add_global_tension = { amount = 5 type = test }
	}

	option = {
		name = "Increase Galactic Tension by 10"
		
		add_global_tension = { amount = 10 type = test }
	}

	option = {
		name = "Increase Galactic Tension by 25"
		
		add_global_tension = { amount = 25 type = test }
	}

	option = {
		name = "Reduce Galaction Tension by 1"
		
		add_global_tension = { amount = -1 type = test }
	}

	option = {
		name = "Reduce Galaction Tension by 5"
		
		add_global_tension = { amount = -5 type = test }
	}

	option = {
		name = "Reduce Galaction Tension by 10"
		
		add_global_tension = { amount = -10 type = test }
	}

	option = {
		name = "Reduce Galaction Tension by 25"
		
		add_global_tension = { amount = -25 type = test }
	}
}

################################
#
#	   NEUTRAL ZONE EVENTS
#
################################

# Dissolve Neutral Zone
country_event = {
	id = country.26002
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		from = {
			save_event_target_as = defender_country
		}
		hidden_effect = {
			dissolve_neutral_zone_remove_casus_belli = {
				TARGET_COUNTRY = event_target:defender_country
			}
		}
	}
}

################################
#
#	   ESPIONAGE EVENTS
#
################################
@my_timed_modifier_days = 1800
# Spy Detected
country_event = {
	id = country.27000
	title = country.27000.name
	show_sound = event_spy_detected 
	location = event_target:spy_detected_system

	desc = {
		trigger = { 
			OR = {
				is_ufop = yes 
				is_minor = yes
			}
		}
		text = country.27000.ufop.desc
	}

	desc = {
		trigger = { is_klingon = yes }
		text = country.27000.klingon.desc
	}

	desc = {
		trigger = { is_romulan = yes }
		text = country.27000.romulan.desc
	}

	desc = {
		trigger = { is_cardassian = yes }
		text = country.27000.cardassian.desc
	}

	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_spy_mission_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_spy_mission_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_spy_mission_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_spy_mission_cardassian
	}

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				has_civic = civic_question_everything
			}

			event_target:spy_detected_system = {			

				set_timed_star_flag = {
					flag = civic_question_everything_modifier_flag
					days = @my_timed_modifier_days
				}

				every_system_planet = {
					limit = {
						has_research_station = yes
						NOT = {
							has_modifier = civic_question_everything_modifier
						}
					}

					add_modifier = {
						modifier = civic_question_everything_modifier
					}
				}

				system_event = {
					id = country.27001
					days = @my_timed_modifier_days
				}
			}
		}
	}
	
	option = {
		name = country.27000.a
	}
}

#HRB_NOTE: This event is necessary to remove a modifier after a certain time because time does not pass on uninhabited planets.
# Remove Civic question everything modifier in Research Stations
system_event = {
	id = country.27001
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				NOT = {
					has_star_flag = civic_question_everything_modifier_flag 
				}
			}

			every_system_planet = {
				remove_modifier = civic_question_everything_modifier
			}
		}
	}
}

################################
#
#		HIGHWAY EVENTS
#
################################

namespace = highways

# Triggered from on_highway_survey
# First Highway Node surveyed
country_event = {
	id = highways.1
	title = "highways.1.name"
	desc = "highways.1.desc"
	show_sound = event_space_travel
	location = FROM

	# Dynamic Images (Major Power variants)
	# SCOPES: THIS = PLANET, FROM = COUNTRY
	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_highway_ftl_travel_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_highway_ftl_travel_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_highway_ftl_travel_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_highway_ftl_travel_cardassian
	}

	# Default Image on Fail 
	picture = GFX_evt_space_whale

	is_triggered_only = yes

	trigger = {
		ROOT = {
			NOT = { has_technology = tech_highway_fluctuations_scanner }
		}
	}

	immediate = {
		ROOT = {
			give_technology = {
				tech = tech_highway_fluctuations_scanner
			}
		}
	}

	option = {
		name = "highways.1.a"
	}
}

# Triggered from on_highway_survey
# New Highway Node surveyed
country_event = {
	id = highways.2
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		add_monthly_resource_mult = {
			resource = research #HRB_Research_Rework
			value = @tier2researchreward
			min = @tier2researchmin
			max = @tier2researchmax
		}
	}
}

# Triggered from on_monthly_pulse_country
# Survey a couple of Highway Nodes
country_event = {
	id = highways.3
	title = "highways.1.name"									# HRB_TODO
	desc = "highways.1.desc"									# HRB_TODO
	picture = GFX_evt_space_enterprise_travel_ufop 				# HRB_TODO
	show_sound = event_space_travel 								# HRB_TODO
	location = FROM

	is_triggered_only = yes

	trigger = {
		OR = {
			has_country_id = ufop
			has_country_id = klingon
			has_country_id = cardassian
			has_country_id = romulan
		}
		NOT = { has_technology = tech_highway_fluctuations_scanner }
	}

	immediate = {
		give_technology = {
			tech = tech_highway_fluctuations_scanner
		}

		hidden_effect = {
			capital_scope = {
				solar_system = {
					closest_system = {
						max_steps = 20
						
						limit = {
							is_star_class = sc_highway_node
							
							is_surveyed = {
								who = ROOT
								status = no
							}
						}

						set_surveyed = {
							surveyor = ROOT
							surveyed = yes
						}

						save_event_target_as = highway_node_1
					}
				}
			}
			event_target:highway_node_1 = {
				while = {
					count = 2

					closest_system = {
						max_steps = 20
						
						limit = {
							is_star_class = sc_highway_node
							
							is_surveyed = {
								who = ROOT
								status = no
							}
						}

						set_surveyed = {
							surveyor = ROOT
							surveyed = yes
						}
					}
				}
			}
		}
	}

	option = {
		name = "highways.1.a" # HRB_TODO
	}
}

################################
#
#		WAR EVENTS
#
################################

namespace = war

# Triggered from on_war_ended_one_time
# Root = Loser
# From = Winner
# FromFrom = War
### Applies effects after a Support War has ended 
### (i.e.: a war where a Major Power has helped, attacking or defending, a Minor Power)
### NOTE: we assume that only one Major Power is involved per side 
country_event = {
	id = war.1
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			### Prepare Event Targets to make decisions after
			FROMFROM = {
				# Save Attacker Major Power - not leader of the war (Support War)
				every_war_participant = {
					limit = {
						is_war_leader = no
						is_major = yes
						is_war_participant = {
							war = FROMFROM
							side = attackers
						}
					}

					save_event_target_as = major_attack_supporter
				}

				# Save Defender Major Power - not leader of the war (Support War)
				every_war_participant = {
					limit = {
						# Major Power - not leader of the war (Support War)
						is_war_leader = no
						is_major = yes
						is_war_participant = {
							war = FROMFROM
							side = defenders
						}
					}

					save_event_target_as = major_defense_supporter
				}
			}

			### Apply effects based on Attacker Major Power
			if = {
				limit = {
					exists = event_target:major_attack_supporter
				}

				FROMFROM = {
					# Decrease opinion of Attacker Major Power on the Defender side (Minor Powers only)
					every_war_participant = {
						limit = {
							is_minor = yes
							is_war_participant = {
								war = FROMFROM
								side = defenders
							}
						}
	
						add_opinion_modifier = {
							who = event_target:major_attack_supporter
							modifier = opinion_major_wronged_us_in_war
						}
					}

					# Increase opinion of Attacker Major Power on the Attacker side (Minor Powers only)
					every_war_participant = {
						limit = {
							is_minor = yes
							is_war_participant = {
								war = FROMFROM
								side = attackers
							}
						}
	
						add_opinion_modifier = {
							who = event_target:major_attack_supporter
							modifier = opinion_major_supported_us_in_war
						}
					}
				}
			}

			### Apply effects based on Defender Major Power
			if = {
				limit = {
					exists = event_target:major_defense_supporter
				}

				FROMFROM = {
					# Decrease opinion of Defender Major Power on the Attacker side (Minor Powers only)
					every_war_participant = {
						limit = {
							is_minor = yes
							is_war_participant = {
								war = FROMFROM
								side = attackers
							}
						}
	
						add_opinion_modifier = {
							who = event_target:major_defense_supporter
							modifier = opinion_major_wronged_us_in_war
						}
					}

					# Increase opinion of Defender Major Power on the Defender side (Minor Powers only)
					every_war_participant = {
						limit = {
							is_minor = yes
							is_war_participant = {
								war = FROMFROM
								side = defenders
							}
						}
	
						add_opinion_modifier = {
							who = event_target:major_defense_supporter
							modifier = opinion_major_supported_us_in_war
						}
					}
				}
			}
		}	
	}
}

# Triggered from on_war_ended
# Root = Loser
# From = Winner
# FromFrom = War
### Applies revanchist after a War has ended 
country_event = {
	id = war.2
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					systems_lost_in_war = { 
						who = ROOT 
						value >=  @ocupation_level_threshold 
					}
				}
				add_modifier = {
					modifier = revanchist_bonus
					years = @years_of_revanchist
				}
			}
		}	
	}
}

# Triggered from on_war_ended
# Root = Loser
# From = Winner
# FromFrom = War
### Humiliation effects
country_event = {
	id = war.100
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					fromfrom = {
						using_war_goal = {
							type = wg_humiliation
							owner = attacker
						}
					}
				}
				add_opinion_modifier = {
					who = from
					modifier = opinion_humiliation_att_from_target
				}
				every_country = {
					limit = {
						is_major = yes
						NOT = { is_same_value = root }
						NOT = { is_same_value = prev.from }
					}
					add_opinion_modifier = {
						who = prev.from
						modifier = opinion_humiliation_att_from_others
					}
				}
			}
			if = {
				limit = {
					fromfrom = {
						using_war_goal = {
							type = wg_humiliation
							owner = defender
						}
					}
				}
				add_opinion_modifier = {
					who = from
					modifier = opinion_humiliation_def_from_target
				}
				from = {
					add_opinion_modifier = {
						who = root
						modifier = opinion_humiliation_def_to_target
					}
				}
			}

			if = {
				limit = {
					fromfrom = {
						using_war_goal = {
							type = wg_humiliation
							owner = prev.from
						}
					}
				}
				convert_pops = {
					principle = principle_undefined
					who = root
					percentage = 0.2
				}
			}
			if = {
				limit = {
					fromfrom = {
						using_war_goal = {
							type = wg_humiliation
							owner = root
						}
					}
				}
				from = {
					convert_pops = {
						principle = principle_undefined
						who = root
						percentage = 0.2
					}
				}
			}
		}
	}
}

# Triggered from on_war_ended
# Root = Loser
# From = Winner
# FromFrom = War
### Territorial Reparations effects

country_event = {
	id = war.101
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						any_war = {
							NOT = { is_same_value = prev.fromfrom }
							using_war_goal = { type = wg_territorial_reparations owner = root }
						}
					}
				}
				
				remove_modifier = territorial_reparations_bonus
			}
			
			if = {
				limit = {
					NOT = {
						any_war = {
							NOT = { is_same_value = prev.fromfrom }
							using_war_goal = { type = wg_territorial_reparations owner = prev.from }
						}
					}
				}

				from = { remove_modifier = territorial_reparations_bonus }
			}
		}
	}
}

################################
#
#	 UNIQUE MECHANIC EVENTS
#
################################

namespace = unique_mechanic

### Cardassian Unique Mechanic - Non-cardassian worker exploitation

country_event = {
	id = unique_mechanic.1
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_country_id = cardassian
	}

	immediate = {
		hidden_effect = {
			every_owned_planet = {
				random_list = { # For every owned planet -> 25% chance to kill a non-cardassian pop
					25 = {
						modifier = {
							factor = 0.25
							prev = { has_country_flag = cardassian_exploitation_cardassian_exploitation_decreased_pop_dying_rate }
						}
						modifier = {
							factor = 1.5
							prev = { has_country_flag = cardassian_exploitation_increased_production }
						}
						random_owned_pop = {
							limit = {
								NOT = {
									is_same_species = owner_main_species
								}
							}

							create_message = {
								type = MESSAGE_TYPE_CARDASSIAN_POP_KILLED_BY_SLAVERY
								localization = MESSAGE_CARDASSIAN_POP_KILLED_BY_SLAVERY
								days = 30
								target = prev # the Go To
								variable = {
									type = name
									localization = POP
									scope = this
								}
							}
							
							kill_pop = yes
						}
					}
					75 = {
						# Nothing happens
					}
				}
			}
		}
	}
}

################################
#
#		  SHIP EVENTS
#
################################

namespace = ship

# Triggered by: on_ship_disbanded
# Ships Artificial Singularities recovery from scuttling
# THIS = Country
# FROM = Ship
country_event = {
	id = ship.1
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		THIS = {
			country_uses_artificial_singularities = yes
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { 
					FROM = {
						OR = {
							is_ship_class = shipclass_military
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_military_station
						}
					}
				}
				add_resource = {
					artificial_singularities = @artificial_singularity_reactor_cost
				}
			}
		}
	}
}

# TEST_EVENT: Balance of Power triggers
country_event = {
	id = ship.999
	title = "Balance of Power Triggers"
	desc = 	"Balance of Power Lorem Ipsum"
	picture = GFX_evt_space_enterprise_travel_ufop
	show_sound = event_ship_bridge

	is_triggered_only = yes

	trigger = {
		is_major = yes
	}

	### TEST OPTIONS
	option = {
		name = "Absolute >= 1000"
		
		allow = {
			balance_of_power_score = {
				absolute >= 1000
			}
		}
	}

	option = {
		name = "Relative >= 0.25"
		
		allow = {
			balance_of_power_score = {	
				relative >= 0.25
			}
		}
	}

	option = {
		name = "Relative Difference to Klingons >= 0.10 using ID"
		
		allow = {
			balance_of_power_score = {	
				major = "klingon"
				relative >= 0.10
			}
		}
	}

	option = {
		name = "Absolute Difference to Klingons >= 100 using ID"
		
		allow = {
			balance_of_power_score = {	
				major = "klingon"
				absolute >= 100
			}
		}
	}

	option = {
		name = "Relative Difference to Klingons >= 0.10 using Event Target"
		
		allow = {
			balance_of_power_score = {	
				who = event_target:klingon_country
				relative >= 0.10
			}
		}
	}

	option = {
		name = "Absolute Difference to Klingons >= 100 using Event Target"
		
		allow = {
			balance_of_power_score = {	
				who = event_target:klingon_country
				absolute >= 100
			}
		}
	}
}

# is_inside_hazard TEST EVENT
planet_event = {
	id = ship.99999
	title = "Is Inside Hazard Trigger"
	desc = 	"Lorem Ipsum..."
	picture = GFX_evt_space_enterprise_travel_ufop
	show_sound = event_ship_bridge

	is_triggered_only = yes
		
	trigger = {
		is_inside_hazard = yes
	}
	
	option = {
		name = OK
	}
	
}

## TEST_EVENTs: Open/Close Highways

## CLOSE NODE
planet_event = {
	id = highways.10
	title = "Highways Close/Open Node"
	desc = 	"Close Highways Lorem Ipsum"
	picture = GFX_evt_space_enterprise_travel_ufop
	show_sound = event_ship_bridge

	is_triggered_only = yes
	trigger = {
		always = yes
	}

	# Close
	option = {
		name = "Close"
		solar_system = {
			set_highway_node_open = no
		}
	}
}

## OPEN NODE
planet_event = {
	id = highways.11
	title = "Highways Close/Open Node"
	desc = 	"Open Highways Lorem Ipsum"
	picture = GFX_evt_space_enterprise_travel_ufop
	show_sound = event_ship_bridge

	is_triggered_only = yes
	trigger = {
		always = yes
	}

	# Close
	option = {
		name = "Open"
		solar_system = {
			set_highway_node_open = yes
		}
	}
}

#####################################################
# Neutral Zone Test
#####################################################
country_event = {
	id = country.26000
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			create_neutral_zone = {
				target = event_target:klingon_country
				empty = yes
			}
		}
	}
}

country_event = {
	id = country.26001
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					exists = event_target:romulan_country
				}
				
				create_neutral_zone = {
					target = event_target:romulan_country
					empty = yes
				}
				
				last_created_neutral_zone = { add_system_to_neutral_zone = event_target:ufop_sol_star.solar_system }
				last_created_neutral_zone = { add_system_to_neutral_zone = event_target:romulan_sol_star.solar_system }
				
				# root = {
			 	#while = {
			 	#	count = 3
			
				#	random_system_within_border = {
				# 			last_created_neutral_zone = { add_system_to_neutral_zone = prev }
				# 		}
				# 	}
				# }
				
				# event_target:romulan_country = {
				# 	while = {
				# 		count = 3
				
				# 		random_system_within_border = {
				# 			last_created_neutral_zone = { add_system_to_neutral_zone = prev }
				# 		}
				# 	}
				# }
			}
		}
	}
}

### SPY POP-UP EVENTS ###

namespace = spy_popup

country_event = {
	id = spy_popup.10
	title = SPY_MISSION_STARTED_TITLE
	desc = {
		trigger = {
			has_country_flag = seismic_bomb_flag
		}
		text =  "seismic_bomb_start"
	}
	desc = {
		trigger = {
			has_country_flag = block_buster_flag
		}
		text =  "block_buster_start"
	}
	desc = {
		trigger = {
			has_country_flag = cultural_assesment_flag
		}
		text =  "cultural_assesment_start"
	}
	desc = {
		trigger = {
			has_country_flag = incite_riots_flag
		}
		text =  "incite_riots_start"
	}
	picture = GFX_evt_space_enterprise_travel_ufop
	show_sound = event_ship_bridge
	is_triggered_only = yes

	immediate = {
	}
	option = {
		name = OK
	}
}

#Succesful mission on a fleet scope
country_event = {
	id = spy_popup.20
	title = spy_popup.20.name
	show_sound = event_generic_success
	is_triggered_only = yes

	desc = {
		trigger = { 
			OR = {
				is_ufop = yes 
				is_minor = yes
			}
		}
		text = spy_popup.20.ufop.desc
	}

	desc = {
		trigger = { is_klingon = yes }
		text = spy_popup.20.klingon.desc
	}

	desc = {
		trigger = { is_romulan = yes }
		text = spy_popup.20.romulan.desc
	}

	desc = {
		trigger = { is_cardassian = yes }
		text = spy_popup.20.cardassian.desc
	}

	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_spy_mission_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_spy_mission_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_spy_mission_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_spy_mission_cardassian
	}

	immediate = {
		event_target:spy_mission_scope_fleet = {
			switch = {
				trigger = has_fleet_flag
				spy_situation_gather_intel_flag = {	remove_fleet_flag = spy_situation_gather_intel_flag }
				spy_situation_hack_flag = {	remove_fleet_flag = spy_situation_hack_flag }
			}
		}
	}
	
	option = {
		name = spy_popup.20.a
	}
}

#Spy mission fail
country_event = {
	id = spy_popup.30
	title = spy_popup.30.name
	show_sound = event_generic_fail
	is_triggered_only = yes

	desc = {
		trigger = { 
			OR = {
				is_ufop = yes 
				is_minor = yes
			}
		}
		text = spy_popup.30.ufop.desc
	}

	desc = {
		trigger = { is_klingon = yes }
		text = spy_popup.30.klingon.desc
	}

	desc = {
		trigger = { is_romulan = yes }
		text = spy_popup.30.romulan.desc
	}

	desc = {
		trigger = { is_cardassian = yes }
		text = spy_popup.30.cardassian.desc
	}

	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_spy_mission_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_spy_mission_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_spy_mission_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_spy_mission_cardassian
	}

	option = {
		name = spy_popup.30.a
	}
}


#Succesful mission on a planet scope
country_event = {
	id = spy_popup.40
	title = spy_popup.40.name
	show_sound = event_generic_success
	is_triggered_only = yes

	desc = {
		trigger = { 
			OR = {
				is_ufop = yes 
				is_minor = yes
			}
		}
		text = spy_popup.40.ufop.desc
	}

	desc = {
		trigger = { is_klingon = yes }
		text = spy_popup.40.klingon.desc
	}

	desc = {
		trigger = { is_romulan = yes }
		text = spy_popup.40.romulan.desc
	}

	desc = {
		trigger = { is_cardassian = yes }
		text = spy_popup.40.cardassian.desc
	}

	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_spy_mission_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_spy_mission_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_spy_mission_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_spy_mission_cardassian
	}

	immediate = {
		event_target:spy_mission_scope = {
			switch = {
				trigger = has_planet_flag
				spy_situation_propaganda_flag = {	remove_planet_flag = spy_situation_propaganda_flag }
				spy_situation_steal_blueprints_flag = { remove_planet_flag = spy_situation_steal_blueprints_flag }
				spy_situation_syphon_resources_flag = { remove_planet_flag = spy_situation_syphon_resources_flag }
			}
		}
	}
	
	option = {
		name = spy_popup.40.a
	}
}

#Spy mission fail, but you have the Twofold Chances civic
country_event = {
	id = spy_popup.50
	title = spy_popup.50.name
	show_sound = event_generic_success
	is_triggered_only = yes

	desc = {
		trigger = { 
			OR = {
				is_ufop = yes 
				is_minor = yes
			}
		}
		text = spy_popup.50.ufop.desc
	}

	desc = {
		trigger = { is_klingon = yes }
		text = spy_popup.50.klingon.desc
	}

	desc = {
		trigger = { is_romulan = yes }
		text = spy_popup.50.romulan.desc
	}

	desc = {
		trigger = { is_cardassian = yes }
		text = spy_popup.50.cardassian.desc
	}

	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_spy_mission_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_spy_mission_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_spy_mission_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_spy_mission_cardassian
	}

	option = {
		name = spy_popup.50.a
	}
}

#Succesful Smear Campaign Mission
country_event = {
	id = spy_popup.60
	title = spy_popup.60.name
	show_sound = event_generic_success
	is_triggered_only = yes

	desc = {
		trigger = { 
			NOT = { 
				has_country_flag = spy_situation_smear_campaign_twofold_chances_flag 
			} 
			is_ufop = yes
		}
		text = spy_popup.60.ufop.desc
	}

	desc = {
		trigger = { 
			NOT = { 
				has_country_flag = spy_situation_smear_campaign_twofold_chances_flag 
			} 
			is_klingon = yes
		}
		text = spy_popup.60.klingon.desc
	}

	desc = {
		trigger = { 
			NOT = { 
				has_country_flag = spy_situation_smear_campaign_twofold_chances_flag 
			} 
			is_romulan = yes
		}
		text = spy_popup.60.romulan.desc
	}

	desc = {
		trigger = { 
			NOT = { 
				has_country_flag = spy_situation_smear_campaign_twofold_chances_flag 
			} 
			is_cardassian = yes
		}
		text = spy_popup.60.cardassian.desc
	}

	desc = {
		trigger = { has_country_flag = spy_situation_smear_campaign_twofold_chances_flag }
		text = spy_popup.60.twofold.desc
	}

	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_spy_mission_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_spy_mission_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_spy_mission_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_spy_mission_cardassian
	}

	immediate = {
		event_target:spy_mission_scope = {
			remove_planet_flag = spy_situation_smear_campaign_flag
		}
	}
	
	after = {
		hidden_effect = {
			remove_country_flag = spy_situation_smear_campaign_twofold_chances_flag
			clear_global_event_target = spy_mission_spy_global
		}
		event_target:spy_mission_spy = {
			switch = {
				trigger = has_level

				1 = { owner = { add_resource = { influence = 20 } } }
				2 = { owner = { add_resource = { influence = 40 } } }
				3 = { owner = { add_resource = { influence = 60 } } }
				4 = { owner = { add_resource = { influence = 80 } } }
				5 = { owner = { add_resource = { influence = 100 } } }
				6 = { owner = { add_resource = { influence = 120 } } }
				7 = { owner = { add_resource = { influence = 140 } } }
				8 = { owner = { add_resource = { influence = 160 } } }
				9 = { owner = { add_resource = { influence = 180 } } }
				10 = { owner = {  add_resource = { influence = 200 } } }
			}

		}
	}

	# UFOP
	option = {

		trigger = {
			exists = event_target:ufop_country
			NOR = {
				event_target:spy_mission_target_country = { is_ufop = yes }
				event_target:spy_owner = { is_ufop = yes }
			}
		}

		name = spy_popup.60.a.ufop

		event_target:spy_mission_spy = {
			save_global_event_target_as = spy_mission_spy_global
		}

		#Apply Opinion Modifier
		event_target:spy_mission_target_country = {
			add_opinion_modifier = {
				who = event_target:ufop_country
				modifier = opinion_smear_campaign
			}
		}
		event_target:ufop_country = {
			add_opinion_modifier = {
				who = event_target:spy_mission_target_country
				modifier = opinion_smear_campaign
			}
		}
	}

	# KLINGON
	option = {
		trigger = {
			exists = event_target:klingon_country
			NOR = {
				event_target:spy_mission_target_country = { is_klingon = yes }
				event_target:spy_owner = { is_klingon = yes }
			}
		}

		name = spy_popup.60.a.klingon

		event_target:spy_mission_spy = {
			save_global_event_target_as = spy_mission_spy_global
		}

		#Apply Opinion Modifier
		event_target:spy_mission_target_country = {
			add_opinion_modifier = {
				who = event_target:klingon_country
				modifier = opinion_smear_campaign
			}
		}
		event_target:klingon_country = {
			add_opinion_modifier = {
				who = event_target:spy_mission_target_country
				modifier = opinion_smear_campaign
			}
		}
	}

	# ROMULAN
	option = {
		trigger = {
			exists = event_target:romulan_country
			NOR = {
				event_target:spy_mission_target_country = { is_romulan = yes }
				event_target:spy_owner = { is_romulan = yes }
			}
		}

		name = spy_popup.60.a.romulan

		event_target:spy_mission_spy = {
			save_global_event_target_as = spy_mission_spy_global
		}

		#Apply Opinion Modifier
		event_target:spy_mission_target_country = {
			add_opinion_modifier = {
				who = event_target:romulan_country
				modifier = opinion_smear_campaign
			}
		}
		event_target:romulan_country = {
			add_opinion_modifier = {
				who = event_target:spy_mission_target_country
				modifier = opinion_smear_campaign
			}
		}
	}

	# CARADSSIAN
	option = {
		trigger = {
			exists = event_target:cardassian_country
			NOR = {
				event_target:spy_mission_target_country = { is_cardassian = yes }
				event_target:spy_owner = { is_cardassian = yes }
			}
		}

		name = spy_popup.60.a.cardassian

		event_target:spy_mission_spy = {
			save_global_event_target_as = spy_mission_spy_global
		}

		#Apply Opinion Modifier
		event_target:spy_mission_target_country = {
			add_opinion_modifier = {
				who = event_target:cardassian_country
				modifier = opinion_smear_campaign
			}
		}
		event_target:cardassian_country = {
			add_opinion_modifier = {
				who = event_target:spy_mission_target_country
				modifier = opinion_smear_campaign
			}
		}
	}

	# NO VALID TARGET
	option = {
		trigger = {
			OR = {
				this = {
					is_major = yes
					NOT = {
						any_country = {
							is_major = yes
							not = {
								is_same_value = this
							}
						}				
					}
				}
				is_minor = yes
			}
		}

		name = spy_popup.60.d
		custom_tooltip = spy_popup.60.d.tt

		# add_resource = {
		# 	influence = 50
		# }

		ai_chance = {
			factor = 100
		}
	}
}

#Sabotage Starbase Mission pop-up
country_event = {
	id = spy_popup.70
	title = spy_popup.70.name
	show_sound = event_generic_success
	is_triggered_only = yes

	desc = {
		trigger = { has_country_flag = cant_destroy_starbase }
		text = spy_popup.70.steal.desc
	}

	desc = {
		trigger = { 
			is_ufop = yes
			NOT = {
				has_country_flag = cant_destroy_starbase }	
			}
		text = spy_popup.70.ufop.desc
	}

	desc = {
		trigger = { 
			is_klingon = yes
			NOT = {
				has_country_flag = cant_destroy_starbase }	
			}
		text = spy_popup.70.klingon.desc
	}

	desc = {
		trigger = { 
			is_romulan = yes
			NOT = {
				has_country_flag = cant_destroy_starbase }	
			}
		text = spy_popup.70.romulan.desc
	}

	desc = {
		trigger = { 
			is_cardassian = yes
			NOT = {
				has_country_flag = cant_destroy_starbase }	
			}
		text = spy_popup.70.cardassian.desc
	}

	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_spy_mission_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_spy_mission_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_spy_mission_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_spy_mission_cardassian
	}

	after = {
		if = {
			limit = { has_country_flag = cant_destroy_starbase }
			add_resource = {
				alloys = 1000
				minerals = 1000
				food = 1000
				research = 1000
			}
		}
		remove_country_flag = cant_destroy_starbase
	}

	option = {
		name = spy_popup.70.a
	}
}

#########################################################################
####			EARLY GAME FLAVOR EVENTS			####
#########################################################################

#########################################################################
# # First Contact With a New Civilization
# country.8040, country.8041, country.8042
# GD_TAG: 3 STEP First Contact Flavor Event, Influence, Energy, Unity, Research
# Note: This event is triggered by first_contact.7010
#########################################################################

# First Contact With a New Civilization
country_event = {
	id = country.8040
	title = "country.8040.name"
	show_sound = event_generic_mysterious
	is_triggered_only = yes

	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  "country.8040.ufop.desc"
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  "country.8040.klingon.desc"
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  "country.8040.romulan.desc"
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  "country.8040.cardassian.desc"
	}

	# Dynamic Images (Major Power variants)
	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_space_enterprise_travel_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_space_vorcha_travel_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_space_valdore_travel_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_space_keldon_travel_cardassian
	}

	### UFOP: We welcome them with open arms.
	option = {

		trigger = {
			is_ufop = yes
		}	

		name = country.8040.a
		custom_tooltip = country.8040.a.tt

		add_resource = {
			influence = 10
		}
	}

	### Klingon: nuq'neH?
	option = {

		trigger = {
			is_klingon = yes
		}	

		name = country.8040.b
		custom_tooltip = country.8040.b.tt

		add_resource = {
			influence = 10
		}
	}

	### Romulan: Jolan tru.
	option = {

		trigger =  {
				is_romulan = yes	
			}

		name = country.8040.c
		custom_tooltip = country.8040.c.tt

		add_resource = {
			influence = 10
		}
	}

	### Cardassian: Good tidings.
	option = {

		trigger =  {
				is_cardassian = yes	
			}

		name = country.8040.d
		custom_tooltip = country.8040.d.tt

		add_resource = {
			influence = 10
		}
	}

	### ALL: Aliens.
	option = {

		name = country.8040.e
		custom_tooltip = country.8040.e.tt

		custom_tooltip = "ge_pop_growth_speed_bonus_tt"
		
		hidden_effect = {
			add_modifier = {
				modifier = ge_pop_growth_speed_bonus
				years = 5
			} 
		}
	}

	after = { 
		hidden_effect = {
			# Triggers Citizens Abuzz
			country_event = { id = country.8041 days = 360 } 
		}
	}
}

# Citizens Abuzz
country_event = {
	id = country.8041
	title = "country.8041.name"
	show_sound = event_generic_mysterious
	is_triggered_only = yes
	
	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  "country.8041.ufop.desc"
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  "country.8041.klingon.desc"
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  "country.8041.romulan.desc"
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  "country.8041.cardassian.desc"
	}

	# Dynamic Images (Major Power variants)
	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_starbase_background_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_starbase_background_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_starbase_background_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_starbase_background_cardassian
	}

	### UFOP: Knowledge brings us together.
	option = {

		trigger = {
			is_ufop = yes
		}	

		name = country.8041.a
		custom_tooltip = country.8041.a.tt

		add_monthly_resource_mult = {
			resource = energy
			 value = @tier1materialreward
			 min = @tier1materialmin
			 max = @tier1materialmax
		}
	}

	### Klingon: Sharpen our blades.
	option = {

		trigger = {
			is_klingon = yes
		}	

		name = country.8041.b
		custom_tooltip = country.8041.b.tt

		add_monthly_resource_mult = {
			resource = energy
			 value = @tier1materialreward
			 min = @tier1materialmin
			 max = @tier1materialmax
		}
	}

	### Romulan: We are always ready.
	option = {

		trigger =  {
				is_romulan = yes	
			}

		name = country.8041.c
		custom_tooltip = country.8041.c.tt

		add_monthly_resource_mult = {
			resource = energy
			 value = @tier1materialreward
			 min = @tier1materialmin
			 max = @tier1materialmax
		}
	}

	### Cardassian: Plan for more camps.
	option = {

		trigger =  {
				is_cardassian = yes	
			}

		name = country.8041.d
		custom_tooltip = country.8041.d.tt

		add_monthly_resource_mult = {
			resource = energy
			 value = @tier1materialreward
			 min = @tier1materialmin
			 max = @tier1materialmax
		}
	}

	### ALL: Keep our eyes on the skies.
	option = {

		name = country.8041.e
		custom_tooltip = country.8041.e.tt
		
		add_modifier = {
			modifier = ge_research_speed_bonus
			years = 5
		}
	}

	after = {
		hidden_effect = {
			# Triggers The Zeitgeist Shifts
			country_event = { id = country.8042 days = 360 } 
		}
	}
}

# The Zeitgeist Shifts
country_event = {
	id = country.8042
	title = "country.8042.name"
	show_sound = event_generic_mysterious
	is_triggered_only = yes
	
	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  "country.8042.ufop.desc"
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  "country.8042.klingon.desc"
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  "country.8042.romulan.desc"
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  "country.8042.cardassian.desc"
	}

	# Dynamic Images (Major Power variants)
	picture = {
		trigger = { is_ufop = yes }
		picture = GFX_evt_star_chart_meeting_ufop
	}
	picture = {
		trigger = { is_klingon = yes }
		picture = GFX_evt_star_chart_meeting_klingon
	}
	picture = {
		trigger = { is_romulan = yes }
		picture = GFX_evt_star_chart_meeting_romulan
	}
	picture = {
		trigger = { is_cardassian = yes }
		picture = GFX_evt_star_chart_meeting_cardassian
	}


	### UFOP: We will continue to seek new life.
	option = {

		trigger = {
			is_ufop = yes
		}	

		name = country.8042.a
		custom_tooltip = country.8042.a.tt

		random_list = {
			50 = {
				owner = { 
					add_monthly_resource_mult = {
						resource = research
						value = @tier1researchreward
						min = @tier1researchmin
						max = @tier1researchmax
						} 
				}
			}
			50 = {
				owner = { 
					add_monthly_resource_mult = {
					resource = unity
					value = @tier1unityreward
					min = @tier1unitymin
					max = @tier1unitymax
					} 
				}
			}
		}
	}

	### Klingon: reH tay' ghot tuqDaj je.
	option = {

		trigger = {
			is_klingon = yes
		}	

		name = country.8042.b
		custom_tooltip = country.8042.b.tt

		random_list = {
			50 = {
				owner = { 
					add_monthly_resource_mult = {
						resource = research
						value = @tier1researchreward
						min = @tier1researchmin
						max = @tier1researchmax
						} 
				}
			}
			50 = {
				owner = { 
					add_monthly_resource_mult = {
					resource = unity
					value = @tier1unityreward
					min = @tier1unitymin
					max = @tier1unitymax
					} 
				}
			}
		}
	}

	### Romulan: Fvadt.
	option = {

		trigger =  {
				is_romulan = yes	
			}

		name = country.8042.c
		custom_tooltip = country.8042.c.tt

		random_list = {
			50 = {
				owner = { 
					add_monthly_resource_mult = {
						resource = research
						value = @tier1researchreward
						min = @tier1researchmin
						max = @tier1researchmax
						} 
				}
			}
			50 = {
				owner = { 
					add_monthly_resource_mult = {
					resource = unity
					value = @tier1unityreward
					min = @tier1unitymin
					max = @tier1unitymax
					} 
				}
			}
		}
	}

	### Cardassian: Skrăgh.
	option = {

		trigger =  {
				is_cardassian = yes	
			}

		name = country.8042.d
		custom_tooltip = country.8042.d.tt

		random_list = {
			50 = {
				owner = { 
					add_monthly_resource_mult = {
						resource = research
						value = @tier1researchreward
						min = @tier1researchmin
						max = @tier1researchmax
						} 
				}
			}
			50 = {
				owner = { 
					add_monthly_resource_mult = {
					resource = unity
					value = @tier1unityreward
					min = @tier1unitymin
					max = @tier1unitymax
					} 
				}
			}
		}
	}

	### ALL: Remain vigilant.
	option = {

		name = country.8042.e
		custom_tooltip = country.8042.e.tt
		custom_tooltip = "ge_ship_speed_bonus_tt"
		
		hidden_effect = {
			add_modifier = {
				modifier = ge_ship_speed_bonus
				years = 5
			}
		}
	}
}

#########################################################################
# # OUR PLACE IN THE UNIVERSE
# country.8060, country.8061, country.8062
# GD_TAG: 3 STEP Early Game Flavor Event, Influence, Energy, Unity, Research
#########################################################################

# Abundance of Life in Our Galaxy
country_event = {
	id = country.8060
	title = "country.8060.name"
	picture = GFX_evt_space_whale
	show_sound = event_space_whale
	
	is_triggered_only = yes

	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  "country.8060.ufop.desc"
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  "country.8060.klingon.desc"
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  "country.8060.romulan.desc"
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  "country.8060.cardassian.desc"
	}

	### UFOP: Life is the greatest treasure.
	option = {

		trigger = {
			is_ufop = yes
		}	

		name = country.8060.a
		custom_tooltip = country.8060.a.tt

		add_monthly_resource_mult = {
			resource = research #HRB_Research_Rework
			value = @tier1researchreward
			min = @tier1researchmin
			max = @tier1researchmax
		}
	}

	### Klingon: Hem tlhInganSegh 'ejmaHamtaH 'e' wIHech.
	option = {

		trigger = {
			is_klingon = yes
		}	

		name = country.8060.b
		custom_tooltip = country.8060.b.tt

		add_monthly_resource_mult = {
			resource = research #HRB_Research_Rework
			value = @tier1researchreward
			min = @tier1researchmin
			max = @tier1researchmax
		}
	}

	### Romulan: We are still the best.
	option = {

		trigger =  {
				is_romulan = yes	
			}

		name = country.8060.c
		custom_tooltip = country.8060.c.tt

		add_monthly_resource_mult = {
			resource = research #HRB_Research_Rework
			value = @tier1researchreward
			min = @tier1researchmin
			max = @tier1researchmax
		}
	}

	### Cardassian: Cardassia will reign supreme.
	option = {

		trigger =  {
				is_cardassian = yes	
			}

		name = country.8060.d
		custom_tooltip = country.8060.d.tt

		add_monthly_resource_mult = {
			resource = research #HRB_Research_Rework
			value = @tier1researchreward
			min = @tier1researchmin
			max = @tier1researchmax
		}
	}

	### ALL: We will continue to search for new life.
	option = {

		name = country.8060.e
		custom_tooltip = country.8060.e.tt

		add_monthly_resource_mult = {
			resource = energy
			 value = @tier1materialreward
			 min = @tier1materialmin
			 max = @tier1materialmax
		}
	}

	after = {
		hidden_effect = {
			# Triggers Diversity of Life
			country_event = { id = country.8061 days = 360 } 
		}
	}
}

# Diversity of Life
country_event = {
	id = country.8061
	title = "country.8061.name"
	picture = GFX_evt_space_whale
	show_sound = event_space_whale
	is_triggered_only = yes

	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  "country.8061.ufop.desc"
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  "country.8061.klingon.desc"
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  "country.8061.romulan.desc"
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  "country.8061.cardassian.desc"
	}

	### UFOP: Diversity is our strength.
	option = {

		trigger = {
			is_ufop = yes
		}	

		name = country.8061.a
		custom_tooltip = country.8061.a.tt

		add_monthly_resource_mult = {
			resource = energy
	 		value = @tier1materialreward
	 		min = @tier1materialmin
	 		max = @tier1materialmax
		}
	}

	### Klingon: yInlu'taH 'e' bajnISlu'.
	option = {

		trigger = {
			is_klingon = yes
		}	

		name = country.8061.b
		custom_tooltip = country.8061.b.tt

		add_monthly_resource_mult = {
			resource = energy
	 		value = @tier1materialreward
	 		min = @tier1materialmin
	 		max = @tier1materialmax
		}
	}

	### Romulan: Are we surprised, though?
	option = {

		trigger =  {
				is_romulan = yes	
			}

		name = country.8061.c
		custom_tooltip = country.8061.c.tt

		add_monthly_resource_mult = {
			resource = energy
	 		value = @tier1materialreward
	 		min = @tier1materialmin
	 		max = @tier1materialmax
		}
	}

	### Cardassian: Our labs will overflow with samples.
	option = {

		trigger =  {
				is_cardassian = yes	
			}

		name = country.8061.d
		custom_tooltip = country.8061.d.tt

		add_monthly_resource_mult = {
			resource = energy
	 		value = @tier1materialreward
	 		min = @tier1materialmin
	 		max = @tier1materialmax
		}
	}

	### ALL: Perplexing.
	option = {

		name = country.8061.e
		custom_tooltip = country.8061.e.tt

		owner = {
			add_resource = {
				influence = 10
			}
		}
	}

	after = {
		hidden_effect = {
			# Triggers Our Place in the Universe
			country_event = { id = country.8062 days = 360 } 
		}
	}
}

# Our Place in the Universe
country_event = {
	id = country.8062
	title = "country.8062.name"
	picture = GFX_evt_space_whale
	show_sound = event_space_whale
	is_triggered_only = yes

	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  "country.8062.ufop.desc"
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  "country.8062.klingon.desc"
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  "country.8062.romulan.desc"
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  "country.8062.cardassian.desc"
	}

	### UFOP: We move forward, together.
	option = {

		trigger = {
			is_ufop = yes
		}	

		name = country.8062.a
		custom_tooltip = country.8062.a.tt

		random_list = {
			50 = {
				owner = { 
					add_modifier = {
						modifier = ge_warp_speed_limit
						days = 3600
					}
				}
			}
			50 = {
				owner = { 
					add_modifier = {
						modifier = ge_anomaly_find_chance
						days = 3600
					}
				}
			}
		}
		
	}

	### Klingon: Heghlu'DI' mobbe'lu'chugh QaQpu' Hegh wanI'.
	option = {

		trigger = {
			is_klingon = yes
		}	

		name = country.8062.b
		custom_tooltip = country.8062.b.tt

		random_list = {
			50 = {
				owner = { 
					add_modifier = {
						modifier = ge_warp_speed_limit
						days = 3600
					}
				}
			}
			50 = {
				owner = { 
					add_modifier = {
						modifier = ge_anomaly_find_chance
						days = 3600
					}
				}
			}
		}
	}

	### Romulan: We are no better or worse off than before.
	option = {

		trigger =  {
				is_romulan = yes	
			}

		name = country.8062.c
		custom_tooltip = country.8062.c.tt

		random_list = {
			50 = {
				owner = { 
					add_modifier = {
						modifier = ge_warp_speed_limit
						days = 3600
					}
				}
			}
			50 = {
				owner = { 
					add_modifier = {
						modifier = ge_anomaly_find_chance
						days = 3600
					}
				}
			}
		}
	}

	### Cardassian: Go forth and subjugate.
	option = {

		trigger =  {
				is_cardassian = yes	
			}

		name = country.8062.d
		custom_tooltip = country.8062.d.tt

		random_list = {
			50 = {
				owner = { 
					add_modifier = {
						modifier = ge_warp_speed_limit
						days = 3600
					}
				}
			}
			50 = {
				owner = { 
					add_modifier = {
						modifier = ge_anomaly_find_chance
						days = 3600
					}
				}
			}
		}
	}

	# ALL: We will use this knowledge to our advantage. 
	option = {

		name = country.8062.e
		custom_tooltip = country.8062.e.tt

		owner = {
			add_resource = {
				influence = 20
			}
		}
		
	}
}

# UFOP First Contact Bonus
first_contact_event = {
	id = country.27500
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			FROM = { has_civic = civic_diplomatic_expertise }
			FROMFROM = { has_civic = civic_diplomatic_expertise }
		}
	}

	immediate = {
		from = {
			add_opinion_modifier = {
				who = fromfrom
				modifier = opinion_civic_diplomatic_expertise
			}
		}

		fromfrom = {
			add_opinion_modifier = {
				who = root.from
				modifier = opinion_civic_diplomatic_expertise
			}
		}
	}
}

country_event = {
	id = country.28000
	is_triggered_only = yes
	hide_window = yes


	trigger = {
		FROM = { leader_class = admiral }
	}

	immediate = {
		from = { add_trait = admiral_trait_bold_admiral	}
	}
}

# Triggers diplomacy with support power after finishing first contact procedure
country_event = {
	id = country.29000
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		event_target:minor_state_event_country = {
			switch = {
				trigger = has_country_flag
				caravaneer_home_country = { prev = { country_event = { id = cara.100 days = 1 } } }
				marauder_1 = { prev = { country_event = { id = marauder.20 days = 1 } } }
				marauder_2 = { prev = { country_event = { id = marauder.20 days = 1 } } }
				curator_enclave_country = { prev = { country_event = { id = support.1 days = 1 } } }
			}
		}
	}
}

# Hack starbase "contagion"
# Triggered by on_entering_system_fleet
# This = Fleet
# From = System
fleet_event = {
	id = country.29100
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		From = {
			any_ship_in_system = {
				is_ship_class = shipclass_starbase
				or = {
					has_modifier = spy_fire_rate_reduction_1
					has_modifier = spy_fire_rate_reduction_2
					has_modifier = spy_fire_rate_reduction_3
					has_modifier = spy_fire_rate_reduction_4
					has_modifier = spy_fire_rate_reduction_5
					has_modifier = spy_fire_rate_reduction_6
					has_modifier = spy_fire_rate_reduction_7
					has_modifier = spy_fire_rate_reduction_8
					has_modifier = spy_fire_rate_reduction_9
					has_modifier = spy_fire_rate_reduction_10
				}
			}			
		}
	}

	immediate = {
		save_event_target_as = event_fleet

		From = {
			random_ship_in_system = {
				limit = {
					is_ship_class = shipclass_starbase
					or = {
						has_modifier = spy_fire_rate_reduction_1
						has_modifier = spy_fire_rate_reduction_2
						has_modifier = spy_fire_rate_reduction_3
						has_modifier = spy_fire_rate_reduction_4
						has_modifier = spy_fire_rate_reduction_5
						has_modifier = spy_fire_rate_reduction_6
						has_modifier = spy_fire_rate_reduction_7
						has_modifier = spy_fire_rate_reduction_8
						has_modifier = spy_fire_rate_reduction_9
						has_modifier = spy_fire_rate_reduction_10
					}
				}
				save_event_target_as = event_starbase
				owner = {
					save_event_target_as = starbase_hacked_owner
				}
			}
		}

		if = {
			limit = {
				owner = {
					is_same_value = event_target:starbase_hacked_owner
				}
			}

			event_target:event_starbase = {
				switch = {
					trigger = has_modifier
	
					spy_fire_rate_reduction_1 = { event_target:event_fleet = { add_modifier = { modifier = spy_fire_rate_reduction_ship_1 days = 720 } } }
					spy_fire_rate_reduction_2 = { event_target:event_fleet = { add_modifier = { modifier = spy_fire_rate_reduction_ship_2 days = 720 } } }
					spy_fire_rate_reduction_3 = { event_target:event_fleet = { add_modifier = { modifier = spy_fire_rate_reduction_ship_3 days = 720 } } }
					spy_fire_rate_reduction_4 = { event_target:event_fleet = { add_modifier = { modifier = spy_fire_rate_reduction_ship_4 days = 720 } } }
					spy_fire_rate_reduction_5 = { event_target:event_fleet = { add_modifier = { modifier = spy_fire_rate_reduction_ship_5 days = 720 } } }
					spy_fire_rate_reduction_6 = { event_target:event_fleet = { add_modifier = { modifier = spy_fire_rate_reduction_ship_6 days = 720 } } }
					spy_fire_rate_reduction_7 = { event_target:event_fleet = { add_modifier = { modifier = spy_fire_rate_reduction_ship_7 days = 720 } } }
					spy_fire_rate_reduction_8 = { event_target:event_fleet = { add_modifier = { modifier = spy_fire_rate_reduction_ship_8 days = 720 } } }
					spy_fire_rate_reduction_9 = { event_target:event_fleet = { add_modifier = { modifier = spy_fire_rate_reduction_ship_9 days = 720 } } }
					spy_fire_rate_reduction_10 = { event_target:event_fleet = { add_modifier = { modifier = spy_fire_rate_reduction_ship_10 days = 720 } } }
				}
			}
		}
	}
}

########################################################
####					TEST EVENTS					####
########################################################

# Spawn Ship and Leader
country_event = {
	id = borg_crisis.998
	title = "Janeway Gained!"
	desc = 	"Lorem Ipsum..."
	picture = GFX_evt_space_enterprise_travel_ufop
	show_sound = event_ship_bridge

	is_triggered_only = yes

	immediate = {
		# HRB_TODO: configure properly
		create_leader = {
			name = "NAME_Janeway"
			class = scientist
			species = ROOT.owner_species
			skill = 5
			traits = {
				trait = leader_trait_janeway
			}
			event_leader = yes
			gender = female
			set_age = 40
			immortal = yes
		}
		# HRB_TODO: configure properly, create custom ship
		create_fleet = {
			name = "NAME_The_Fearless"
			effect = {
				create_ship_design = {
					design = "NAME_Ship_Fearless"
				}
				create_ship = {
					name = "NAME_FROM_FEARLESS"
					design = last_created_design
					graphical_culture = "ufop_01"
					prefix = no
				}
				
				set_owner = ROOT
				assign_leader = last_created_leader
				set_location = {
					target = event_target:ufop_sol_star
					distance = 370
					angle = 45
				}
			}
			settings = {
				can_upgrade = no
				can_change_composition = no
			}
		}
	}

	option = {
		name = "Ok"
	}
}


# This is an example of how the new is_quest_tree_node_possible can be used outside of ai_weight modifiers
country_event = {
	id = country.1337
	is_triggered_only = yes
	title = "is_quest_tree_node_possible Trigger"
	desc = "OK"
	picture = GFX_evt_space_enterprise_travel_ufop

	trigger = {
		is_cardassian = yes
		is_quest_tree_node_possible = {
			key = qt_cardassian_a4
		}
	}

	immediate = {
		log = "this might have worked"
	}

	option = {
		name = "OK"
	}
}


### MiPo civic effects
namespace = country

# Talarian monthly unity bonus while at war
event = {
	id = country.27010
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_country = {
			limit = {
				has_civic = civic_war_is_the_way
				is_at_war = yes
			}
			add_monthly_resource_mult = {
				resource = unity
				value = 0.25
			}
		}
	}
}

# Bajoran Research bonus
event = {
	id = country.27020
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_country = {
			limit = {
				has_civic = civic_past_guides_future
			}

			switch = {
				trigger = has_modifier

				bajoran_research_mod_1 = { remove_modifier = bajoran_research_mod_1 }
				bajoran_research_mod_2 = { remove_modifier = bajoran_research_mod_2 }
				bajoran_research_mod_3 = { remove_modifier = bajoran_research_mod_3 }
				bajoran_research_mod_4 = { remove_modifier = bajoran_research_mod_4 }
			}

			set_variable = {
				which = bajoran_research_var
				value = 0
			}

			if = {
				limit = { 
					OR = {
						has_tradition = tr_conquest_adopt
						has_tradition = tr_defense_adopt
					}	
				}
					
				change_variable = {
					which = bajoran_research_var
					value = 1
				}
			}
			if = {
				limit = { 
					OR = {
						has_tradition = tr_research_adopt
						has_tradition = tr_development_adopt
					}	
				}
					
				change_variable = {
					which = bajoran_research_var
					value = 1
				}
			}
			if = {
				limit = { 
					OR = {
						has_tradition = tr_commerce_adopt
						has_tradition = tr_wellfare_adopt
					}	
				}
					
				change_variable = {
					which = bajoran_research_var
					value = 1
				}
			}
			if = {
				limit = { 
					OR = {
						has_tradition = tr_ufop_adopt
						has_tradition = tr_klingon_adopt
						has_tradition = tr_romulan_adopt
						has_tradition = tr_cardassian_adopt
					}	
				}
					
				change_variable = {
					which = bajoran_research_var
					value = 1
				}
			}


			if = {
				limit = { 
					check_variable = {
						which = bajoran_research_var
						value = 1
					} 
				}
				add_modifier = {
					modifier = bajoran_research_mod_1
				}
			}
			if = {
				limit = { 
					check_variable = {
						which = bajoran_research_var
						value = 2
					} 
				}
				add_modifier = {
					modifier = bajoran_research_mod_2
				}
			}
			if = {
				limit = { 
					check_variable = {
						which = bajoran_research_var
						value = 3
					} 
				}
				add_modifier = {
					modifier = bajoran_research_mod_3
				}
			}
			if = {
				limit = { 
					check_variable = {
						which = bajoran_research_var
						value = 4
					} 
				}
				add_modifier = {
					modifier = bajoran_research_mod_4
				}
			}
		}
	}
}

# Acamarian Marauder Flotilla resource bonus
event = {
	id = country.27030
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_country = {
			limit = {
				has_civic = civic_marauder_flotilla
			}

			set_variable = {
				which = food_stockpile
				value = 0
			}
			set_variable = {
				which = energy_stockpile
				value = 0
			}
			set_variable = {
				which = mineral_stockpile
				value = 0
			}
			

			export_resource_stockpile_to_variable = {
				resource = food
				variable = food_stockpile
			}
			export_resource_stockpile_to_variable = {
				resource = energy
				variable = energy_stockpile
			}
			export_resource_stockpile_to_variable = {
				resource = minerals
				variable = minerals_stockpile
			}

			if = {
				limit = { 
					AND = {
						check_variable = {
							which = food_stockpile
							value < energy_stockpile
						}
						check_variable = {
							which = food_stockpile
							value < minerals_stockpile
						}
					}
				}
				add_monthly_resource_mult = {
					resource = food
					value = 0.25
				}
			}
			if = {
				limit = { 
					AND = {
						check_variable = {
							which = energy_stockpile
							value < food_stockpile
						}
						check_variable = {
							which = energy_stockpile
							value < minerals_stockpile
						}
					}
				}
				add_monthly_resource_mult = {
					resource = energy
					value = 0.25
				}
			}
			if = {
				limit = { 
					AND = {
						check_variable = {
							which = minerals_stockpile
							value < energy_stockpile
						}
						check_variable = {
							which = minerals_stockpile
							value < food_stockpile
						}
					}
				}
				add_monthly_resource_mult = {
					resource = minerals
					value = 0.25
				}
			}
		}
	}
}

# Kaelon Utopian Beliefs civic
planet_event = {
	id = country.27040
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		from = {
			has_civic = civic_utopian_beliefs
		}
	}

	immediate = {
		#Arid
		if = {
			limit = { is_planet_class = pc_arid }
			random_list = {
				1 = { add_deposit = d_mineral_flora }
				1 = { add_deposit = d_dry_heat }
				1 = { add_deposit = d_whispering_mounds }
			}
		}


		#Desert
		if = {
			limit = { is_planet_class = pc_desert }
			random_list = {
				1 = { add_deposit = d_searing_heat }
				1 = { add_deposit = d_bountiful_oasis }
				1 = { add_deposit = d_gigantic_annelids }
			}
		}

				
		#Savannah
		if = {
			limit = { is_planet_class = pc_savannah }
			random_list = {
				1 = { add_deposit = d_apex_predators }
				1 = { add_deposit = d_extensive_plains }
				1 = { add_deposit = d_sirocco_winds }
			}
		}

						
		#Alpine
		if = {
			limit = { is_planet_class = pc_alpine }
			random_list = {
				1 = { add_deposit = d_active_volcanoes }
				1 = { add_deposit = d_ore_rich_slopes }
				1 = { add_deposit = d_empty_mountains }
			}
		}

								
		#Arctic
		if = {
			limit = { is_planet_class = pc_tundra }
			random_list = {
				1 = { add_deposit = d_frozen_hangar_caves }
				1 = { add_deposit = d_ice_gems }
				1 = { add_deposit = d_high_winds }
			}
		}

										
		#Tundra
		if = {
			limit = { is_planet_class = pc_arctic }
			random_list = {
				1 = { add_deposit = d_moss_caves }
				1 = { add_deposit = d_infertile_land }
				1 = { add_deposit = d_frozen_lakes }
			}
		}

										
		#Continental
		if = {
			limit = { is_planet_class = pc_continental }
			random_list = {
				1 = { add_deposit = d_perfect_climate }
				1 = { add_deposit = d_homeworld_resemblance }
				1 = { add_deposit = d_reverse_waterfalls }
			}
		}

												
		#Ocean
		if = {
			limit = { is_planet_class = pc_ocean }
			random_list = {
				1 = { add_deposit = d_gigantic_aquatic_life }
				1 = { add_deposit = d_abundant_fishing_zones }
				1 = { add_deposit = d_powerful_currents }
			}
		}

												
		#Continental
		if = {
			limit = { is_planet_class = pc_tropical }
			random_list = {
				1 = { add_deposit = d_giant_mushroom_forest }
				1 = { add_deposit = d_feathery_fauna }
				1 = { add_deposit = d_enriched_soild }
			}
		}

	}
}

# Cairn monthly opinion bonus/malus trigger
event = {
	id = country.27050
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_country = {
			limit = {
				has_civic = civic_efficient_communication
			}
			country_event = {
				id = country.27051 days = 1
			}
		}
	}
}

# Cairn monthly opinion bonus/malus
country_event = {
	id = country.27051
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		save_event_target_as = civic_country
		every_country = {
			save_event_target_as = civic_effect_target
			limit = {
				NOT = { is_same_value = event_target:civic_country }
				has_communications = event_target:civic_country
				event_target:civic_country = {
					has_closed_borders = event_target:civic_effect_target
				}
			}
			add_opinion_modifier = {
				who = event_target:civic_country 
				modifier = opinion_civic_efficient_communication_negative
			}
		}
		every_country = {
			save_event_target_as = civic_effect_target
			limit = {
				NOT = { is_same_value = event_target:civic_country }
				has_communications = event_target:civic_country
				event_target:civic_country = {
					NOT = { has_closed_borders = event_target:civic_effect_target }
				}
			}
			add_opinion_modifier = {
				who = event_target:civic_country 
				modifier = opinion_civic_efficient_communication_positive
			}
		}
	}
}

# Betazoid monthly opinion bonus/malus with minors Trigger
event = {
	id = country.27060
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_country = {
			limit = {
				has_civic = civic_forthcoming
			}
			country_event = {
				id = country.27061 days = 1
			}
		}
	}
}

# Betazoid monthly opinion bonus with minors
country_event = {
	id = country.27061
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		save_event_target_as = civic_country
		every_country = {
			limit = {
				NOT = { 
					is_same_value = event_target:civic_country 
					is_ufop = yes
					is_klingon = yes
					is_romulan = yes
					is_cardassian = yes				
				}
				has_communications = event_target:civic_country
			}
			add_opinion_modifier = {
				who = event_target:civic_country 
				modifier = opinion_civic_forthcoming
			}
		}
	}
}

### Governor missions effects
namespace = country

# Governor Improve Workers mission update on lvl up
country_event = {
	id = country.2770
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		from = {
			has_leader_flag = gov_improve_workers_leader_flag
		}
	}

	immediate = {
		from = {
			save_event_target_as = governor_mission_governor
			fleet = {
				solar_system = {
					random_system_planet = {
						limit = {
							has_planet_flag = gov_improve_workers_planet_flag
	
							any_fleet_in_orbit = {
								exists = leader
								leader = {
									is_same_value = event_target:governor_mission_governor
								}
							}
						}
	
						save_event_target_as = governor_mission_scope
						remove_gov_improve_workers_modifier = yes
						add_gov_improve_workers_modifier = yes
					}
				}
			}
		}
	}
}

# Governor Improve Specialist mission update on lvl up
country_event = {
	id = country.2780
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		from = {
			has_leader_flag = gov_improve_specialists_leader_flag
		}
	}

	immediate = {
		from = {
			save_event_target_as = governor_mission_governor
			fleet = {
				solar_system = {
					random_system_planet = {
						limit = {
							has_planet_flag = gov_improve_specialists_planet_flag
							
							any_fleet_in_orbit = {
								exists = leader
								leader = {
									is_same_value = event_target:governor_mission_governor
								}
							}
						}
	
						save_event_target_as = governor_mission_scope
						remove_gov_improve_specialists_modifier = yes
						add_gov_improve_specialists_modifier = yes
					}
				}
			}
		}
	}
}

# Governor Improve Stability mission update on lvl up
country_event = {
	id = country.2790
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		from = {
			has_leader_flag = gov_improve_stability_leader_flag
		}
	}

	immediate = {
		from = {
			save_event_target_as = governor_mission_governor
			fleet = {
				solar_system = {
					random_system_planet = {
						limit = {
							has_planet_flag = gov_improve_stability_planet_flag
	
							any_fleet_in_orbit = {
								exists = leader
								leader = {
									is_same_value = event_target:governor_mission_governor
								}
							}
						}
	
						save_event_target_as = governor_mission_scope
						remove_gov_improve_stability_modifier = yes
						add_gov_improve_stability_modifier = yes
					}
				}
			}
		}
	}
}

# Governor Emergency Package mission update on lvl up
country_event = {
	id = country.2795
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		from = {
			has_leader_flag = gov_emergency_package_leader_flag
		}
	}

	immediate = {
		from = {
			save_event_target_as = governor_mission_governor
			fleet = {
				solar_system = {
					random_system_planet = {
						limit = {
							has_planet_flag = gov_emergency_package_planet_flag
	
							any_fleet_in_orbit = {
								exists = leader
								leader = {
									is_same_value = event_target:governor_mission_governor
								}
							}
						}
	
						save_event_target_as = governor_mission_scope
						remove_gov_emergency_package_modifier = yes
						add_gov_emergency_package_modifier = yes
					}
				}
			}
		}
	}
}

# Governor Leader trait modifiers update on lvl up
country_event = {
	id = country.2796
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		from = {
			has_leader_flag = gov_doing_mission
		}
	}

	immediate = {
		from = {
			save_event_target_as = governor_mission_governor
			fleet = {
				solar_system = {
					random_system_planet = {
						limit = {
							has_planet_flag = gov_doing_mission_planet
	
							any_fleet_in_orbit = {
								exists = leader
								leader = {
									is_same_value = event_target:governor_mission_governor
								}
							}
						}
						
						save_event_target_as = governor_mission_scope
						governor_mission_misc_effects_remove = yes
						governor_mission_misc_effects_add = yes
					}
				}
			}
		}
	}
}

#####################################
# 	The Ashes of Khitomer Chain 	#
#####################################

# The Ashes of Khitomer
country_event = {
	id = country.2800
	title = country.2800.name
	picture = GFX_evt_civil_unrest_klingon
	show_sound = event_khitomer_ashes
	is_triggered_only = yes
	
	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  country.2800.ufop.desc
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  country.2800.klingon.desc
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  country.2800.romulan.desc
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  country.2800.cardassian.desc
	}

	immediate = {
		set_global_flag = the_ashes_of_khitomer_happened
	}

	### Proactive
	option = {
		name = country.2800.a
		custom_tooltip = country.2800.a.tt
		set_policy = {
			policy = first_contact_protocol
			option = first_contact_proactive
			cooldown = yes
		}
	}

	### Cautious
	option = {
		name = country.2800.b
		custom_tooltip = country.2800.b.tt
		set_policy = {
			policy = first_contact_protocol
			option = first_contact_cautious
			cooldown = yes
		}
	}

	### Aggressive
	option = {
		trigger = {
			is_ufop = no
		}
		name = country.2800.c
		custom_tooltip = country.2800.c.tt
		set_policy = {
			policy = first_contact_protocol
			option = first_contact_attack_allowed
			cooldown = yes
		}
	}

	after = {
		hidden_effect = {
			country_event = { id = country.2801 days = 30 }
		}
	}
}

# The Bottom of the Plot
country_event = {
	id = country.2801
	title = country.2801.name
	picture = GFX_evt_civil_unrest_klingon
	show_sound = event_khitomer_plot #HRB_TODO_SOUND PLACEHOLDER
	is_triggered_only = yes
	
	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  country.2801.ufop.desc
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  country.2801.klingon.desc
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  country.2801.romulan.desc
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  country.2801.cardassian.desc
	}
	
	### UFOP
	option = {
		trigger = { is_ufop = yes }
		name = country.2801.a
		custom_tooltip = country.2801.a.tt
		add_monthly_resource_mult = {
			resource = unity
			value = 3
		}
	}

	### KLINGON
	option = {
		trigger = { is_klingon = yes }
		name = country.2801.b
		custom_tooltip = country.2801.b.tt
		add_monthly_resource_mult = {
			resource = unity
			value = 3
		}
	}

	### Romulan
	option = {
		trigger = { is_romulan = yes }
		name = country.2801.c
		custom_tooltip = country.2801.c.tt
		add_monthly_resource_mult = {
			resource = unity
			value = 3
		}
	}

	### Cardassian
	option = {
		trigger = { is_cardassian = yes }
		name = country.2801.d
		custom_tooltip = country.2801.d.tt
		add_monthly_resource_mult = {
			resource = unity
			value = 3
		}
	}
}

# HRB The Khitomer report trigger
# Triggered from on_five_year_pulse
event = {
	id = country.2818
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = the_ashes_of_khitomer_happened
		is_tutorial_active = no
		NOT = { has_global_flag = spies_returned }
	}

	immediate = {
		set_global_flag = spies_returned
		every_country = {
			limit = {
				OR = {
					is_ufop = yes
					is_klingon = yes
					is_romulan = yes
					is_cardassian = yes
				}
			}
			country_event = { id = country.2820 days = 1 }
		}
	}
}

# HRB The Khitomer report trigger
# Triggered from on_monthly_pulse
event = {
	id = country.2819
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		global_tension > 40
		has_global_flag = the_ashes_of_khitomer_happened
		is_tutorial_active = no
		NOT = { has_global_flag = spies_returned }
	}

	immediate = {
		set_global_flag = spies_returned
		every_country = {
			limit = {
				OR = {
					is_ufop = yes
					is_klingon = yes
					is_romulan = yes
					is_cardassian = yes
				}
			}
			country_event = { id = country.2820 days = 1 }
		}
	}
}

# HRB The Khitomer report
country_event = {
	id = country.2820
	title = country.2820.name
	show_sound = event_khitomer_report
	is_triggered_only = yes
	
	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  country.2820.ufop.desc
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  country.2820.klingon.desc
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  country.2820.romulan.desc
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  country.2820.cardassian.desc
	}

	# Dynamic Images (Major Power variants)
	picture = {
		trigger = {
		owner = { is_ufop = yes } 
		}
		picture = GFX_evt_spy_mission_ufop
	} 
	picture = {
		trigger = {
		owner = { is_klingon = yes }
		}
		picture = GFX_evt_spy_mission_klingon
	}
	picture = {
		trigger = {
		owner = { is_romulan = yes } 
		}
		picture = GFX_evt_spy_mission_romulan
	} 
	picture = {
		trigger = {
		owner = { is_cardassian = yes }
		}
		picture = GFX_evt_spy_mission_cardassian
	}

	trigger = {
		has_global_flag = the_ashes_of_khitomer_happened
		has_global_flag = spies_returned
		is_tutorial_active = no
	}

	after = {
		if = {
			limit = { has_modifier = khitomer_aftershock }
			remove_modifier = khitomer_aftershock
		}
		create_spy_and_ship = yes
	}

	### UFOP A
	option = {
		trigger = {
			is_ufop = yes
		}
		name = country.2820.a
		custom_tooltip = country.2820.a.tt

		if = {
			limit = { exists = event_target:klingon_country }
		
			event_target:klingon_country = {
				add_opinion_modifier = {
					who = event_target:ufop_country
					modifier = opinion_spies_return_klingon_logs
				}	
			}
		}

		add_monthly_resource_mult = {
			resource = research
			value = 6
		}
	}

	### UFOP B
	option = {
		trigger = {
			is_ufop = yes
		}
		name = country.2820.b
		custom_tooltip = country.2820.b.tt

		if = {
			limit = { exists = event_target:klingon_country }

			add_intel = {
				who = event_target:klingon_country
				amount = 50
			}
		}

		add_monthly_resource_mult = {
			resource = unity
			value = 3
		}

		add_monthly_resource_mult = {
			resource = research
			value = 3
		}
	}

	### KLINGON A
	option = {
		trigger = {
			is_klingon = yes
		}
		name = country.2820.c
		custom_tooltip = country.2820.c.tt

		add_resource = { 
			influence = 150 
		}

		add_monthly_resource_mult = {
			resource = unity
			value = 6
		}
	}

	### KLINGON B
	option = {
		trigger = {
			is_klingon = yes
		}
		name = country.2820.d
		custom_tooltip = country.2820.d.tt
		
		add_monthly_resource_mult = {
			resource = research
			value = 6
		}

		#Launch THE KHITOMER LOGS trigger event
		hidden_effect = {
			country_event = { id = country.2821 days = 7200 }
		}
	}

	### ROMULAN A
	option = {
		trigger = {
			is_romulan = yes
		}
		name = country.2820.e
		custom_tooltip = country.2820.e.tt

		add_resource = { 
			influence = 150 
		}
	}

	### ROMULAN B
	option = {
		trigger = {
			is_romulan = yes
		}
		name = country.2820.f
		custom_tooltip = country.2820.f.tt

		add_monthly_resource_mult = {
			resource = energy
			value = 8
		}
	}

	### CARDASSIAN A
	option = {
		trigger = {
			is_cardassian = yes
		}
		name = country.2820.g
		custom_tooltip = country.2820.g.tt

		if = {
			limit = { exists = event_target:romulan_country }

			event_target:romulan_country = {
				add_opinion_modifier = {
					who = event_target:cardassian_country
					modifier = opinion_spies_return_cardassian_gossip
				}
			}
		}

		if = {
			limit = { exists = event_target:klingon_country }
			
			event_target:klingon_country = {
				add_opinion_modifier = {
					who = event_target:cardassian_country
					modifier = opinion_spies_return_klingon_logs
				}
			}
		}

		if = {
			limit = { exists = event_target:ufop_country }
	
			event_target:ufop_country = {
				add_opinion_modifier = {
					who = event_target:cardassian_country
					modifier = opinion_spies_return_klingon_logs
				}
			}
		}
	}

	### CARDASSIAN B
	option = {
		trigger = {
			is_cardassian = yes
		}
		name = country.2820.h
		custom_tooltip = country.2820.h.tt

		if = {
			limit = { exists = event_target:romulan_country }
			
			event_target:romulan_country = {
				add_opinion_modifier = {
					who = event_target:cardassian_country
					modifier = opinion_spies_return_klingon_logs
				}
			}
		}

		add_resource = { 
			influence = 150 
		}
	}
}

# SONS OF MOGH
country_event = {
	id = country.2821
	title = country.2821.name
	desc =  country.2821.desc
	picture = GFX_evt_vorcha_bridge_decision_klingon
	show_sound = event_bridge_decision
	is_triggered_only = yes

	### CONFIRM
	option = {
		name = country.2821.a
		enable_special_project = {
			name = KHITOMER_LOGS
			owner = root
		}
	}
}

# THE KHITOMER CONSPIRACY
country_event = {
	id = country.2822
	title = country.2822.name
	desc =  country.2822.desc
	picture = GFX_evt_vorcha_bridge_decision_klingon
	show_sound = event_bridge_decision
	is_triggered_only = yes

	### CONFIRM A
	option = {
		name = country.2822.a
		custom_tooltip = country.2822.a.tt

		add_modifier = {
			modifier = khitomer_redemption
		}
	}

	### CONFIRM B
	option = {
		name = country.2822.b
		custom_tooltip = country.2822.b.tt

		add_modifier = {
			modifier = khitomer_sins_of_the_father
		}
	}
}

# HRB How Shall We Treat Them? Trigger
country_event = {
	id = country.2810
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				is_ai = no
				NOT = { has_country_flag = how_shall_we_treat_them_trigger }
			}

			set_country_flag = how_shall_we_treat_them_trigger
			country_event = { id = country.2811 days = 1 }
		}

		from = {
			if = {
				limit = {
					is_ai = no
					NOT = { has_country_flag = how_shall_we_treat_them_trigger }
				}
	
				set_country_flag = how_shall_we_treat_them_trigger
				country_event = { id = country.2811 days = 1 }
			}
		}
	}
}


# How Shall We Treat Them?
country_event = {
	id = country.2811
	title = country.2811.name
	picture = GFX_evt_colony_mixed
	show_sound = event_khitomer_treat
	is_triggered_only = yes
	
	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  country.2811.ufop.desc
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  country.2811.klingon.desc
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  country.2811.romulan.desc
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  country.2811.cardassian.desc
	}

	### UFP: Trusted Members
	option = {
		trigger = {
			is_ufop = yes
		}
		name = country.2811.a
		custom_tooltip = country.2811.a.tt

		set_species_profile_default = {
			type = species_profile_ufop_trusted_member
		}
	}	

	### UFP: Unproven Members
	option = {
		trigger = {
			is_ufop = yes
		}
		name = country.2811.b
		custom_tooltip = country.2811.b.tt

		set_species_profile_default = {
			type = species_profile_ufop_unproven_member
		}
	}

	### Klingon: Outsiders will give us their strength.
	option = {
		trigger = {
			is_klingon = yes
		}
		name = country.2811.c
		custom_tooltip = country.2811.c.tt
	
		set_species_profile_default = {
			type = species_profile_klingon_ruling_strong
		}
	}

	### Klingon: Outsiders will lend us their wisdom.
	option = {
		trigger = {
			is_klingon = yes
		}
		name = country.2811.d
		custom_tooltip = country.2811.d.tt
		
		set_species_profile_default = {
			type = species_profile_klingon_ruling_spiritual
		}
	}

	### Klingon: Outsiders will prove their honor to us.
	option = {
		trigger = {
			is_klingon = yes
		}
		name = country.2811.e
		custom_tooltip = country.2811.e.tt
		
		set_species_profile_default = {
			type = species_profile_klingon_ruling_honorable
		}
	}

	### Klingon: Outsiders will be treated as hurl'q.
	option = {
		trigger = {
			is_klingon = yes
		}
		name = country.2811.f
		custom_tooltip = country.2811.f.tt

		set_species_profile_default = {
			type = species_profile_klingon_outsider
		}
	}

	### Romulan: Outsiders will be our servants
	option = {
		trigger = {
			is_romulan = yes
		}
		name = country.2811.g
		custom_tooltip = country.2811.g.tt

		set_species_profile_default = {
			type = species_profile_romulan_servant_species
		}
	}

	### Cardassian: With a Soft Hand
	option = {
		trigger = {
			is_cardassian = yes
		}
		name = country.2811.h
		custom_tooltip = country.2811.h.tt

		set_species_profile_default = {
			type = species_profile_cardassian_soft_hand
		}
	}

	### Cardassian: With a Hard Hand
	option = {
		trigger = {
			is_cardassian = yes
		}
		name = country.2811.i
		custom_tooltip = country.2811.i.tt

		set_species_profile_default = {
			type = species_profile_cardassian_hard_hand
		}
	}

	### Cardassian: They will be our slaves
	option = {
		trigger = {
			is_cardassian = yes
		}
		name = country.2811.j
		custom_tooltip = country.2811.j.tt

		set_species_profile_default = {
			type = species_profile_cardassian_conscripted_slave
		}
	}

	after = {
		hidden_effect = {
			country_event = { id = country.2812 days = 30 }
		}
	}
}

# The Mirror Gazes Back
country_event = {
	id = country.2812
	title = country.2812.name
	picture = GFX_evt_diplomatic_dinner
	show_sound = event_khitomer_mirror
	is_triggered_only = yes
	
	desc = {
		trigger = {
			is_ufop = yes
		}
		text =  country.2812.ufop.desc
	}

	desc = {
		trigger = {
			is_klingon = yes
		}
		text =  country.2812.klingon.desc
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text =  country.2812.romulan.desc
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text =  country.2812.cardassian.desc
	}

	### UFP: We will not compromise on our ideals.
	option = {
		trigger = {
			is_ufop = yes
		}
		name = country.2812.a
		custom_tooltip = country.2812.a.tt

		owner = {
			add_monthly_resource_mult = { 
				resource = unity
				value = @tier3unityreward 
				min = @tier3unitymin 
				max = @tier3unitymax 
			}
		}
	}	

	### UFP: Fear will never dictate our actions.
	option = {
		trigger = {
			is_ufop = yes
		}
		name = country.2812.b
		custom_tooltip = country.2812.b.tt

		owner = {
			add_monthly_resource_mult = {
				resource = energy
				 value = @tier1materialreward
				 min = @tier1materialmin
				 max = @tier1materialmax
			}	
		}
	}

	### Klingon: Klingons should be ruled by the strong.
	option = {
		trigger = {
			is_klingon = yes
		}
		name = country.2812.c
		custom_tooltip = country.2812.c.tt

		owner_main_species = {
			set_species_profile = {
				type = species_profile_klingon_ruling_strong
				country = root
			}
		}
	}

	### Klingon: Klingons should be ruled by the spiritual.
	option = {
		trigger = {
			is_klingon = yes
		}
		name = country.2812.d
		custom_tooltip = country.2812.d.tt

		owner_main_species = {
			set_species_profile = {
				type = species_profile_klingon_ruling_spiritual
				country = root
			}
		}
	}

	### Klingon: Klingons should be ruled by the honorable.
	option = {
		trigger = {
			is_klingon = yes
		}
		name = country.2812.e
		custom_tooltip = country.2812.e.tt

		owner_main_species = {
			set_species_profile = {
				type = species_profile_klingon_ruling_honorable
				country = root
			}
		}
	}

	### Romulan: With Spartan Conditions.
	option = {
		trigger = {
			is_romulan = yes
		}
		name = country.2812.f
		custom_tooltip = country.2812.f.tt

		owner_main_species = {
			set_species_profile = {
				type = species_profile_romulan_spartan_conditions
				country = root
			}
		}
	}

	### Romulan: With Acceptable Standards.
	option = {
		trigger = {
			is_romulan = yes
		}
		name = country.2812.g
		custom_tooltip = country.2812.g.tt

		owner_main_species = {
			set_species_profile = {
				type = species_profile_romulan_acceptable_standard
				country = root
			}
		}
	}

	### Romulan: In Opulence.
	option = {
		trigger = {
			is_romulan = yes
		}
		name = country.2812.h
		custom_tooltip = country.2812.h.tt

		owner_main_species = {
			set_species_profile = {
				type = species_profile_romulan_opulence_living
				country = root
			}
		}
	}

	### Cardassian: Basic Subsistence.
	option = {
		trigger = {
			is_cardassian = yes
		}
		name = country.2812.i
		custom_tooltip = country.2812.i.tt

		owner_main_species = {
			set_species_profile = {
				type = species_profile_cardassian_basic_subsistence
				country = root
			}
		}
	}

	### Cardassian: Subterfuge Economy.
	option = {
		trigger = {
			is_cardassian = yes
		}
		name = country.2812.j
		custom_tooltip = country.2812.j.tt

		owner_main_species = {
			set_species_profile = {
				type = species_profile_cardassian_subterfuge_economy
				country = root
			}
		}
	}
}

@bop_score_threshold_1 = 0.33
@bop_score_threshold_2 = 0.50
@bop_score_threshold_3 = 0.66

# Balance of Power - Check monthly status
event = {
	id = country.2830
	hide_window = yes
	is_triggered_only = yes

	immediate = {

		if = {
			limit = { exists = event_target:major_power_best_scored }
			event_target:major_power_best_scored = {
				save_event_target_as = former_major_power_best_scored
			}
		}

		update_major_power_best_scored = yes

		if = { # Reached third threshold
			limit = {
				OR = {
					AND = {
						exists = event_target:ufop_country
						event_target:ufop_country = { balance_of_power_score = { relative >= @bop_score_threshold_3 } }
					}
					AND = {
						exists = event_target:klingon_country
						event_target:klingon_country = { balance_of_power_score = { relative >= @bop_score_threshold_3 } }
					}
					AND = {
						exists = event_target:romulan_country
						event_target:romulan_country = { balance_of_power_score = { relative >= @bop_score_threshold_3 } }
					}
					AND = {
						exists = event_target:cardassian_country
						event_target:cardassian_country = { balance_of_power_score = { relative >= @bop_score_threshold_3 } }
					}
				}
			}

			on_bop_threshold_reached = {
				BOP_THRESHOLD_TO_CHECK = bop_threshold_3
				BOP_STRONGEST_MOD = bop_strongest_threshold_3
				BOP_LOWER_MOD = bop_lower_threshold_3
			}
		}
		else_if = { # Reached second threshold
			limit = {
				OR = {
					AND = {
						exists = event_target:ufop_country
						event_target:ufop_country = { balance_of_power_score = { relative >= @bop_score_threshold_2 } }
					}
					AND = {
						exists = event_target:klingon_country
						event_target:klingon_country = { balance_of_power_score = { relative >= @bop_score_threshold_2 } }
					}
					AND = {
						exists = event_target:romulan_country
						event_target:romulan_country = { balance_of_power_score = { relative >= @bop_score_threshold_2 } }
					}
					AND = {
						exists = event_target:cardassian_country
						event_target:cardassian_country = { balance_of_power_score = { relative >= @bop_score_threshold_2 } }
					}
				}
			}

			on_bop_threshold_reached = {
				BOP_THRESHOLD_TO_CHECK = bop_threshold_2
				BOP_STRONGEST_MOD = bop_strongest_threshold_2
				BOP_LOWER_MOD = bop_lower_threshold_2
			}
		}
		else_if = { # Reached first threshold
			limit = {
				OR = {
					AND = {
						exists = event_target:ufop_country
						event_target:ufop_country = { balance_of_power_score = { relative >= @bop_score_threshold_1 } }
					}
					AND = {
						exists = event_target:klingon_country
						event_target:klingon_country = { balance_of_power_score = { relative >= @bop_score_threshold_1 } }
					}
					AND = {
						exists = event_target:romulan_country
						event_target:romulan_country = { balance_of_power_score = { relative >= @bop_score_threshold_1 } }
					}
					AND = {
						exists = event_target:cardassian_country
						event_target:cardassian_country = { balance_of_power_score = { relative >= @bop_score_threshold_1 } }
					}
				}
			}

			on_bop_threshold_reached = {
				BOP_THRESHOLD_TO_CHECK = bop_threshold_1
				BOP_STRONGEST_MOD = bop_strongest_threshold_1
				BOP_LOWER_MOD = bop_lower_threshold_1
			}
		}
	}
}

#Bespoke leader initialization


#UFOP Bespoke Leaders
country_event = {
	id = country.2900
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		country_event = { id = country.2910 days = 5760 random = 360}
		country_event = { id = country.2911 days = 2520 random = 360}
		country_event = { id = country.2912 days = 10080 random = 360}
		country_event = { id = country.2913 days = 12600 random = 360}
		country_event = { id = country.2914 days = 6840 random = 360}
	}
}
				
### Spock				
country_event = {				
	id = country.2910			
	title = country.2910.name			
	desc = country.2910.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_14		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_14_leader_key	
			class = scientist	
			species = event_target:spock_species	
			gender = male	
			set_age = 132	
			name = "NAME_unique_14_leader_name"	
			portrait = unique_14	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_archaeologist
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_14_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 500
			}	
		}		
				
		add_resource = {		
			unity = -500	
		}		
				
		create_leader = {		
			class = scientist	
			species = event_target:spock_species	
			gender = male	
			set_age = 132	
			name = "NAME_unique_14_leader_name"	
			portrait = unique_14	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_archaeologist
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Alynna Nechayev				
country_event = {				
	id = country.2911			
	title = country.2911.name			
	desc = country.2911.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_15		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_15_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = female	
			set_age = 52	
			name = "NAME_unique_15_leader_name"	
			portrait = unique_15	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_cautious
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_15_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 300
			}	
		}		
				
		add_resource = {		
			unity = -300	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = female	
			set_age = 52	
			name = "NAME_unique_15_leader_name"	
			portrait = unique_15	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_cautious
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Benjamin Sisko				
country_event = {				
	id = country.2912			
	title = country.2912.name			
	desc = country.2912.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_20		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_20_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 42	
			name = "NAME_unique_20_leader_name"	
			portrait = unique_20	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_aggressive
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_20_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 300
			}	
		}		
				
		add_resource = {		
			unity = -300	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 42	
			name = "NAME_unique_20_leader_name"	
			portrait = unique_20	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_aggressive
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### William T. Riker				
country_event = {				
	id = country.2913			
	title = country.2913.name			
	desc = country.2913.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_27		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_27_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 46	
			name = "NAME_unique_27_leader_name"	
			portrait = unique_27	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_gale_speed
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_27_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 300
			}	
		}		
				
		add_resource = {		
			unity = -300	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 46	
			name = "NAME_unique_27_leader_name"	
			portrait = unique_27	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_gale_speed
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Luther Sloan				
country_event = {				
	id = country.2914			
	title = country.2914.name			
	desc = country.2914.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_33		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_33_leader_key	
			class = spy	
			species = owner_main_species	
			gender = male	
			set_age = 39	
			name = "NAME_unique_33_leader_name"	
			portrait = unique_33	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_patient
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_33_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 300
			}	
		}		
				
		add_resource = {		
			unity = -300	
		}		
				
		create_leader = {		
			class = spy	
			species = owner_main_species	
			gender = male	
			set_age = 39	
			name = "NAME_unique_33_leader_name"	
			portrait = unique_33	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_patient
			}	
		}		
				
		create_spy_ship_and_setup_leader = {		
			LEADER = last_created_leader	
		}		
	}			
}				

#KLINGON Bespoke Leaders
country_event = {
	id = country.2901
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		country_event = { id = country.2920 days = 9360 random = 360}
		country_event = { id = country.2921 days = 10080 random = 360}
		country_event = { id = country.2922 days = 12240 random = 360}
		country_event = { id = country.2923 days = 10800 random = 360}
		country_event = { id = country.2924 days = 8640 random = 360}
		country_event = { id = country.2925 days = 9000 random = 360}
		country_event = { id = country.2926 days = 15840 random = 360}
	}
}

### Gowron				
country_event = {				
	id = country.2920			
	title = country.2920.name			
	desc = country.2920.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_02		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_02_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 51	
			name = "NAME_unique_02_leader_name"	
			portrait = unique_02	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_fleet_logistician
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_02_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 300
			}	
		}		
				
		add_resource = {		
			unity = -300	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 51	
			name = "NAME_unique_02_leader_name"	
			portrait = unique_02	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_fleet_logistician
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Grilka				
country_event = {				
	id = country.2921			
	title = country.2921.name			
	desc = country.2921.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_07		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_07_leader_key	
			class = governor	
			species = owner_main_species	
			gender = female	
			set_age = 37	
			name = "NAME_unique_07_leader_name"	
			portrait = unique_07	
			event_leader = yes	
			skill = 2	
				
			traits = {	
				trait = leader_trait_righteous
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_07_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 200
			}	
		}		
				
		add_resource = {		
			unity = -200	
		}		
				
		create_leader = {		
			class = governor	
			species = owner_main_species	
			gender = female	
			set_age = 37	
			name = "NAME_unique_07_leader_name"	
			portrait = unique_07	
			event_leader = yes	
			skill = 2	
				
			traits = {	
				trait = leader_trait_righteous
			}	
		}		
				
		create_governor_ship_and_setup_leader = {		
			LEADER = last_created_leader	
		}		
	}			
}				
				
### Kell				
country_event = {				
	id = country.2922			
	title = country.2922.name			
	desc = country.2922.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_11		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_11_leader_key	
			class = governor	
			species = owner_main_species	
			gender = male	
			set_age = 81	
			name = "NAME_unique_11_leader_name"	
			portrait = unique_11	
			event_leader = yes	
			skill = 2	
				
			traits = {	
				trait = leader_trait_architectural_interest
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_11_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 200
			}	
		}		
				
		add_resource = {		
			unity = -200	
		}		
				
		create_leader = {		
			class = governor	
			species = owner_main_species	
			gender = male	
			set_age = 81	
			name = "NAME_unique_11_leader_name"	
			portrait = unique_11	
			event_leader = yes	
			skill = 2	
				
			traits = {	
				trait = leader_trait_architectural_interest
			}	
		}		
				
		create_governor_ship_and_setup_leader = {		
			LEADER = last_created_leader	
		}		
	}			
}				
				
### Kahless				
country_event = {				
	id = country.2923			
	title = country.2923.name			
	desc = country.2923.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_16		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_16_leader_key	
			class = general	
			species = owner_main_species	
			gender = male	
			set_age = 38	
			name = "NAME_unique_16_leader_name"	
			portrait = unique_16	
			event_leader = yes	
			skill = 6	
				
			traits = {	
				trait = leader_trait_glory_seeker
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_16_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 600
			}	
		}		
				
		add_resource = {		
			unity = -600	
		}		
				
		create_leader = {		
			class = general	
			species = owner_main_species	
			gender = male	
			set_age = 38	
			name = "NAME_unique_16_leader_name"	
			portrait = unique_16	
			event_leader = yes	
			skill = 6	
				
			traits = {	
				trait = leader_trait_glory_seeker
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### B'Etor Duras				
country_event = {				
	id = country.2924			
	title = country.2924.name			
	desc = country.2924.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_18		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_18_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = female	
			set_age = 33	
			name = "NAME_unique_18_leader_name"	
			portrait = unique_18	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_gale_speed
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_18_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 400
			}	
		}		
				
		add_resource = {		
			unity = -400	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = female	
			set_age = 33	
			name = "NAME_unique_18_leader_name"	
			portrait = unique_18	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_gale_speed
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Lursa Duras				
country_event = {				
	id = country.2925			
	title = country.2925.name			
	desc = country.2925.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_17		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_17_leader_key	
			class = spy	
			species = owner_main_species	
			gender = female	
			set_age = 34	
			name = "NAME_unique_17_leader_name"	
			portrait = unique_17	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_recognition
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_17_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 400
			}	
		}		
				
		add_resource = {		
			unity = -400	
		}		
				
		create_leader = {		
			class = spy	
			species = owner_main_species	
			gender = female	
			set_age = 34	
			name = "NAME_unique_17_leader_name"	
			portrait = unique_17	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_recognition
			}	
		}		
				
		create_spy_ship_and_setup_leader = {		
			LEADER = last_created_leader	
		}		
	}			
}				
				
### Martok				
country_event = {				
	id = country.2926			
	title = country.2926.name			
	desc = country.2926.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_22		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_22_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 65	
			name = "NAME_unique_22_leader_name"	
			portrait = unique_22	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_engineer
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_22_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 400
			}	
		}		
				
		add_resource = {		
			unity = -400	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 65	
			name = "NAME_unique_22_leader_name"	
			portrait = unique_22	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_engineer
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				

#ROMULAN Bespoke Leaders
country_event = {
	id = country.2902
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		country_event = { id = country.2930 days = 7560 random = 360}
		country_event = { id = country.2931 days = 8640 random = 360}
		country_event = { id = country.2932 days = 8280 random = 360}
		country_event = { id = country.2933 days = 10800 random = 360}
		country_event = { id = country.2934 days = 10080 random = 360}
		country_event = { id = country.2935 days = 12240 random = 360}
		country_event = { id = country.2936 days = 6840 random = 360}
	}
}

### Tomalak				
country_event = {				
	id = country.2930			
	title = country.2930.name			
	desc = country.2930.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_04		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_04_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 56	
			name = "NAME_unique_04_leader_name"	
			portrait = unique_04	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_trickster
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_04_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 500
			}	
		}		
				
		add_resource = {		
			unity = -500	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 56	
			name = "NAME_unique_04_leader_name"	
			portrait = unique_04	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_trickster
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Bochra				
country_event = {				
	id = country.2931			
	title = country.2931.name			
	desc = country.2931.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_08		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_08_leader_key	
			class = general	
			species = owner_main_species	
			gender = male	
			set_age = 29	
			name = "NAME_unique_08_leader_name"	
			portrait = unique_08	
			event_leader = yes	
			skill = 2	
				
			traits = {	
				trait = leader_trait_butcher
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_08_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 200
			}	
		}		
				
		add_resource = {		
			unity = -200	
		}		
				
		create_leader = {		
			class = general	
			species = owner_main_species	
			gender = male	
			set_age = 29	
			name = "NAME_unique_08_leader_name"	
			portrait = unique_08	
			event_leader = yes	
			skill = 2	
				
			traits = {	
				trait = leader_trait_butcher
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Sela				
country_event = {				
	id = country.2932			
	title = country.2932.name			
	desc = country.2932.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_12		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_12_leader_key	
			class = spy	
			species = owner_main_species	
			gender = female	
			set_age = 24	
			name = "NAME_unique_12_leader_name"	
			portrait = unique_12	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_self_reliance
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_12_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 400
			}	
		}		
				
		add_resource = {		
			unity = -400	
		}		
				
		create_leader = {		
			class = spy	
			species = owner_main_species	
			gender = female	
			set_age = 24	
			name = "NAME_unique_12_leader_name"	
			portrait = unique_12	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_self_reliance
			}	
		}		
				
		create_spy_ship_and_setup_leader = {		
			LEADER = last_created_leader	
		}		
	}			
}				
				
### Koval				
country_event = {				
	id = country.2933			
	title = country.2933.name			
	desc = country.2933.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_19		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_19_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 41	
			name = "NAME_unique_19_leader_name"	
			portrait = unique_19	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_trickster
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_19_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 500
			}	
		}		
				
		add_resource = {		
			unity = -500	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 41	
			name = "NAME_unique_19_leader_name"	
			portrait = unique_19	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_trickster
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Toreth				
country_event = {				
	id = country.2934			
	title = country.2934.name			
	desc = country.2934.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_28		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_28_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = female	
			set_age = 36	
			name = "NAME_unique_28_leader_name"	
			portrait = unique_28	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_aggressive
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_28_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 400
			}	
		}		
				
		add_resource = {		
			unity = -400	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = female	
			set_age = 36	
			name = "NAME_unique_28_leader_name"	
			portrait = unique_28	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_aggressive
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Taris				
country_event = {				
	id = country.2935			
	title = country.2935.name			
	desc = country.2935.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_29		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_29_leader_key	
			class = general	
			species = owner_main_species	
			gender = female	
			set_age = 38	
			name = "NAME_unique_29_leader_name"	
			portrait = unique_29	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_demoralizer
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_29_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 300
			}	
		}		
				
		add_resource = {		
			unity = -300	
		}		
				
		create_leader = {		
			class = general	
			species = owner_main_species	
			gender = female	
			set_age = 38	
			name = "NAME_unique_29_leader_name"	
			portrait = unique_29	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_demoralizer
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Vreenak				
country_event = {				
	id = country.2936			
	title = country.2936.name			
	desc = country.2936.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_30		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_30_leader_key	
			class = governor	
			species = owner_main_species	
			gender = male	
			set_age = 43	
			name = "NAME_unique_30_leader_name"	
			portrait = unique_30	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_intellectual
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_30_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 500
			}	
		}		
				
		add_resource = {		
			unity = -500	
		}		
				
		create_leader = {		
			class = governor	
			species = owner_main_species	
			gender = male	
			set_age = 43	
			name = "NAME_unique_30_leader_name"	
			portrait = unique_30	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_intellectual
			}	
		}		
				
		create_governor_ship_and_setup_leader = {		
			LEADER = last_created_leader	
		}		
	}			
}				

#CARDASSIAN Bespoke Leaders
country_event = {
	id = country.2903
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		country_event = { id = country.2940 days = 5400 random = 360}
		country_event = { id = country.2941 days = 8640 random = 360}
		country_event = { id = country.2942 days = 720 random = 360}
		country_event = { id = country.2943 days = 360 random = 360}
		country_event = { id = country.2944 days = 1800 random = 360}
		country_event = { id = country.2945 days = 8640 random = 360}
	}
}

### Dukat				
country_event = {				
	id = country.2940			
	title = country.2940.name			
	desc = country.2940.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_09		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_09_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 36	
			name = "NAME_unique_09_leader_name"	
			portrait = unique_09	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_resilient
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_09_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 400
			}	
		}		
				
		add_resource = {		
			unity = -400	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 36	
			name = "NAME_unique_09_leader_name"	
			portrait = unique_09	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_resilient
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Damar				
country_event = {				
	id = country.2941			
	title = country.2941.name			
	desc = country.2941.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_10		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_10_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 59	
			name = "NAME_unique_10_leader_name"	
			portrait = unique_10	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_engineer
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_10_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 300
			}	
		}		
				
		add_resource = {		
			unity = -300	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 59	
			name = "NAME_unique_10_leader_name"	
			portrait = unique_10	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_engineer
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Enabran Tain				
country_event = {				
	id = country.2942			
	title = country.2942.name			
	desc = country.2942.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_23		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_23_leader_key	
			class = governor	
			species = owner_main_species	
			gender = male	
			set_age = 46	
			name = "NAME_unique_23_leader_name"	
			portrait = unique_23	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_iron_fist
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_23_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 400
			}	
		}		
				
		add_resource = {		
			unity = -400	
		}		
				
		create_leader = {		
			class = governor	
			species = owner_main_species	
			gender = male	
			set_age = 46	
			name = "NAME_unique_23_leader_name"	
			portrait = unique_23	
			event_leader = yes	
			skill = 4	
				
			traits = {	
				trait = leader_trait_iron_fist
			}	
		}		
				
		create_governor_ship_and_setup_leader = {		
			LEADER = last_created_leader	
		}		
	}			
}				
				
### Makbar				
country_event = {				
	id = country.2943			
	title = country.2943.name			
	desc = country.2943.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_24		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_24_leader_key	
			class = spy	
			species = owner_main_species	
			gender = female	
			set_age = 29	
			name = "NAME_unique_24_leader_name"	
			portrait = unique_24	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_commitment
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_24_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 500
			}	
		}		
				
		add_resource = {		
			unity = -500	
		}		
				
		create_leader = {		
			class = spy	
			species = owner_main_species	
			gender = female	
			set_age = 29	
			name = "NAME_unique_24_leader_name"	
			portrait = unique_24	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_commitment
			}	
		}		
				
		create_spy_ship_and_setup_leader = {		
			LEADER = last_created_leader	
		}		
	}			
}				
				
### Korinas				
country_event = {				
	id = country.2944			
	title = country.2944.name			
	desc = country.2944.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_25		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_25_leader_key	
			class = general	
			species = owner_main_species	
			gender = female	
			set_age = 32	
			name = "NAME_unique_25_leader_name"	
			portrait = unique_25	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_butcher
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_25_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 500
			}	
		}		
				
		add_resource = {		
			unity = -500	
		}		
				
		create_leader = {		
			class = general	
			species = owner_main_species	
			gender = female	
			set_age = 32	
			name = "NAME_unique_25_leader_name"	
			portrait = unique_25	
			event_leader = yes	
			skill = 5	
				
			traits = {	
				trait = leader_trait_butcher
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}				
				
### Madred				
country_event = {				
	id = country.2945			
	title = country.2945.name			
	desc = country.2945.desc			
	diplomatic = yes			
	show_sound = event_mystic_reveal #HRB_TODO_SOUND PLACEHOLDER			
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_26		
		room = this		
	}			
				
	option = {			
		name = country.2910.a		
				
		create_saved_leader = {		
			key = unique_26_leader_key	
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 57	
			name = "NAME_unique_26_leader_name"	
			portrait = unique_26	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_cautious
			}	
		}		
				
		activate_saved_leader = {		
			add_to_owned = no	
			key = unique_26_leader_key	
		}		
	}			
				
	option = {			
		name = country.2910.b		
				
		allow = {		
			resource_stockpile_compare = {	
				resource = unity
				value >= 300
			}	
		}		
				
		add_resource = {		
			unity = -300	
		}		
				
		create_leader = {		
			class = admiral	
			species = owner_main_species	
			gender = male	
			set_age = 57	
			name = "NAME_unique_26_leader_name"	
			portrait = unique_26	
			event_leader = yes	
			skill = 3	
				
			traits = {	
				trait = leader_trait_cautious
			}	
		}		
				
		#create_governor_ship_and_setup_leader = {		
			#LEADER = last_created_leader	
		#}		
	}			
}

# Bespoke Leader retirement
country_event = {
	id = country.2850
	is_triggered_only = yes
	title = country.2850.name
	diplomatic = yes

	desc = {
		trigger = { 
			is_ufop = yes 
		}

		text = country.2850.ufop.desc
	}

	desc = {
		trigger = { 
			is_romulan = yes 
		}

		text = country.2850.romulan.desc
	}

	picture_event_data = {
		portrait = from
		room = this
	}

	trigger = {
		OR = {
			is_romulan = yes 
			is_ufop = yes 
		}
		from = {
			is_bespoke = yes	
		}	
	}

	option = {
		trigger = { 
			is_ufop = yes 
		}

		name = country.2850.ufop.option
	}

	option = {
		trigger = { 
			is_romulan = yes
		}

		name = country.2850.romulan.option
	}
}


### Data				
country_event = {				
	id = country.2937		
	title =  country.2937.name			
	desc =  country.2937.desc			
	diplomatic = yes			
	show_sound = event_generic_popup	
	is_triggered_only = yes			
				
	picture_event_data = {			
		portrait = unique_13		
		room = this		
	}			
				
	option = {			
		name =  country.2937.a		
				
		create_leader = {		
			class = scientist	
			species = event_target:data_species	
			gender = male	
			set_age = 64	
			name = "NAME_unique_13_leader_name"	
			portrait = unique_13	
			event_leader = yes	
			skill = 5	
			immortal = yes

			traits = {	
				trait = leader_trait_researcher
			}	
		}		
	}			
		
}	

# Picard resigns from Starfleet
country_event = {
	id = country.2938
	title = "country.2938.name"
	desc = "country.2938.desc"
	
	diplomatic = yes
    show_sound = event_generic_popup
    is_triggered_only = yes
	
    picture_event_data = {
        portrait = unique_01
        room = this
    }

	option = {
		name = "country.2938.a"
		custom_tooltip = "country.2938.a.tt"
		
		hidden_effect = {
			owner = {
				random_owned_leader = {
					limit = { has_trait = leader_trait_picard}
					kill_leader = { show_notification = no }
				}
			}
		}
	}
}

# Troi: Empathic Diplomacy
country_event = {
	id = country.2939
	title = "country.2939.name"
	desc = "country.2939.desc"

	diplomatic = yes
    show_sound = event_generic_popup
    is_triggered_only = yes

    picture_event_data = {
        portrait = unique_32
        room = this
    }
	option = {
		name = "country.2939.a"
		create_leader = {
			class = envoy
			species = event_target:troi_species
			name = NAME_deanna_troi
			portrait = "unique_32"
			event_leader = yes
			immortal = no
			skill = 1
			gender = female
			traits = {
				trait = leader_trait_deanna_troi
			}
			effect = {		
				set_leader_flag = deanna_troi
			}
		}			
	}
}

# Worf: Klingon Might
# Recruit Admiral “Worf”
country_event = {
	id = country.2950
	title = "country.2950.name"
	desc = "country.2950.desc"
	
	diplomatic = yes
    show_sound = event_generic_popup
    is_triggered_only = yes
	
    picture_event_data = {
        portrait = unique_36
        room = this
    }

	option = {
		name = "country.2950.a"
		create_leader = {
			class = admiral
			species = event_target:worf_species
			name = NAME_worf
			portrait = "unique_36" # Worf, son of Mogh portrait
			event_leader = yes
			immortal = no
			skill = 1
			traits = {
				trait = leader_trait_worf
			}
			effect = {		
				set_leader_flag = worf
				set_leader_flag = cannot_be_dismissed
			}
		}
		
		last_created_leader = {
			save_global_event_target_as = worf_leader
		}
	}
}


### Add participant to global situation when they join the war
country_event = {
	id = country.3000
	title = "global_situation.17.name"
	show_sound = event_generic_tension 
	is_triggered_only = yes

	# Dynamic Images (Major Power variants)
	picture = {
		trigger = {
			is_ufop = yes
		}
		picture = GFX_evt_empire_fleet_ufop
	} 
	picture = {
		trigger = {
			is_klingon = yes
		}
		picture = GFX_evt_empire_fleet_klingon
	}
	picture = {
		trigger = {
			is_romulan = yes
		}
		picture = GFX_evt_empire_fleet_romulan
	} 
	picture = {
		trigger = {
			is_cardassian = yes
		}
		picture = GFX_evt_empire_fleet_cardassian
	}
		
	# Default Image on Fail 
	picture = GFX_evt_warscore_background

	desc = {
		trigger = {
			is_ufop = yes
		}
		text = "global_situation.17.ufop.desc"
	} 

	desc = {
		trigger = {
			is_klingon = yes
		}
		text = "global_situation.17.klingon.desc"
	}

	desc = {
		trigger = {
			is_romulan = yes
		}
		text = "global_situation.17.romulan.desc"
	}

	desc = {
		trigger = {
			is_cardassian = yes
		}
		text = "global_situation.17.cardassian.desc"
	}

	desc = {
		trigger = {
			is_major = no
		}
		text = "global_situation.17.hidden.desc"
	} 

	trigger = {
		fromfrom = {
			exists = situation
		}
	}

	immediate = {
		fromfrom = {
			situation = {
				save_event_target_as = war_situation_scope
			}
		}
		save_event_target_as = war_participant@situation@country

		set_country_flag = participant_in_situation@fromfrom
	}

	### CONFIRM JOIN
	option = {
		name = country.3000.a
		event_target:war_situation_scope = {
			if = {
				limit = {
					NOT = {
						Any_situation_participant_country = {
							exists = event_target:war_participant@situation@country
						}
					}
				}
				add_participants_to_global_situation = {
					who = event_target:war_participant@situation@country
				}
			}
			
		}
	}
} 

# This = country
# From = opponent war leader
# FromFrom = war
country_event = {
	id = country.3010
	hide_window = yes
    is_triggered_only = yes

	immediate = {
		FromFrom = {
			every_war_participant = {

				every_system_within_border = {
					every_fleet_in_system = {
						limit = {
							is_ship_class = shipclass_spy_ship
							owner = {
								is_at_war_with = prevprev
							}
						}
						set_mia = yes
					}
				}
			}
		}
	}

}

##################################
# CARDASSIAN ASSIMILATION EVENTS #
##################################

# Cardassian Occupation Project trigger
# Root = Planet
# From = Planet Owner
# FromFrom = Planet Controller (the one occupying)
planet_event = {
	id = country.4000
	hide_window = yes
    is_triggered_only = yes

	immediate = {
		IF = {
			limit = {
				
				# Check if the main attacker is Cardassian, if this is an occupation war and if the main defender is the owner of the planet
				root.fromfrom = {
					is_cardassian = yes
					any_war = {
						using_war_goal = {
							type = wg_occupation
							owner = root.fromfrom
						}
						
						is_war_leader = {
							who = root.from
							side = defenders
						}
					}
				}
			
				# Check if the planet is a capital
				is_capital = yes
			}

			# Save Event Targets for the Project
			save_event_target_as = conquered_planet_scope
			from = { save_event_target_as = former_owner_scope }
			fromfrom = { save_event_target_as = new_owner_scope }
			fromfrom = {
				random_war = {
					limit = {
						using_war_goal = {
							type = wg_occupation
							owner = root.fromfrom
						}
						
						is_war_leader = {
							who = root.from
							side = defenders
						}
					}
					save_event_target_as = current_war_scope
				}
			}

			#Trigger special project
			fromfrom = {
				country_event = { id = country.4001 days = 1 }
				country_event = { id = country.4010 days = 1 }
			}

		}
	}
}

# Assimilation Special Project triggered pop-up
country_event = {
	id = country.4001
	title = country.4001.name
	desc =  country.4001.desc
	show_sound = event_bridge_decision
	is_triggered_only = yes

	# Dynamic Images (PC variant)
	picture = {			
		trigger = {		
			event_target:conquered_planet_scope = {	
				is_planet_class = pc_desert
			}	
		}		
		picture = GFX_evt_pc_desert_l01		
	}			
	picture = {			
		trigger = {		
			event_target:conquered_planet_scope = {	
				is_planet_class = pc_tropical
			}	
		}		
		picture = GFX_evt_pc_tropical_l01		
	}			
	picture = {			
		trigger = {		
			event_target:conquered_planet_scope = {	
				is_planet_class = pc_arid
			}	
		}		
		picture = GFX_evt_pc_arid_l01		
	}			
	picture = {			
		trigger = {		
			event_target:conquered_planet_scope = {	
				is_planet_class = pc_continental
			}	
		}		
		picture = GFX_evt_pc_contintental_l01	
	}			
	picture = {			
		trigger = {		
			event_target:conquered_planet_scope = {	
				is_planet_class = pc_ocean
			}	
		}		
		picture = GFX_evt_pc_ocean_l01		
	}			
	picture = {			
		trigger = {		
			event_target:conquered_planet_scope = {	
				is_planet_class = pc_tundra
			}	
		}		
		picture = GFX_evt_pc_tundra_l01		
	}			
	picture = {			
		trigger = {		
			event_target:conquered_planet_scope = {	
				is_planet_class = pc_arctic
			}	
		}		
		picture = GFX_evt_pc_arctic_l01		
	}			
	picture = {			
		trigger = {		
			event_target:conquered_planet_scope = {	
				is_planet_class = pc_alpine
			}	
		}		
		picture = GFX_evt_pc_alpine_l01		
	}			
	picture = {			
		trigger = {		
			event_target:conquered_planet_scope = {	
				is_planet_class = pc_savannah
			}	
		}		
		picture = GFX_evt_pc_savannah_l01		
	}			

	#Backup Pic
	picture = GFX_evt_pc_contintental_l01	

	option = {
		name = country.4001.a
		custom_tooltip = country.4001.a.tt

		tooltip = {
			enable_special_project = {
				name = CARDASSIAN_OCCUPATION_TIER_1
				location = event_target:conquered_planet_scope
			}
		}
	}
}

# Re-Trigger Special Project
country_event = {
	id = country.4010
	hide_window = yes
    is_triggered_only = yes

	immediate = {
		enable_special_project = {
			name = CARDASSIAN_OCCUPATION_TIER_1
			location = event_target:conquered_planet_scope
		}
	}
}

# Destroy Ships
ship_event = {
	id = country.4020
	hide_window = yes
    is_triggered_only = yes

	trigger = {
		exists = this
	}

	immediate = {
		destroy_ship = this
	}
}

###############################
# ROMULAN ASSIMILATION EVENTS #
###############################

# ROMULAN ASSIMILATION SPECIAL PROJECT CHECK
country_event = {
	id = country.3100
	hide_window = yes
    is_triggered_only = yes

	trigger = {
		from = {
			is_romulan = yes
		}	
	}

	immediate = {
		save_event_target_as = mipo_to_be_assimilated
		random_owned_planet = {
			limit = {
				is_capital = yes
			}
			save_event_target_as = mipo_to_be_assimilated_capital
		}
		from = {
			country_event = { id = country.3110 days = 1 }
		}
	}
}

# ROMULAN ASSIMILATION SPECIAL PROJECT ENABLE
country_event = {
	id = country.3110
	title = "country.3110.name"
	desc = "country.3110.desc"
    show_sound = event_generic_popup
    is_triggered_only = yes
	picture = GFX_evt_valdore_bridge_decision_romulan

	#Enable Project for human players
	option = {
		trigger = {
			is_ai = no
		}

		name = country.3110.a
		custom_tooltip = country.3110.a.tt

		enable_special_project = {
			name = MIPO_ASSIMILATION_PROJECT
			location = event_target:mipo_to_be_assimilated_capital
		}
	}

	#Auto Assimilate for AI players
	option = {
		trigger = {
			is_ai = yes
		}

		name = country.3110.a
		custom_tooltip = country.3110.a.tt

		country_event = {
			id = country.3121 days = 720
		}
	}
}

# ROMULAN ASSIMILATION SPECIAL PROJECT ENABLE - NO POP-UP
country_event = {
	id = country.3111
	hide_window = yes
    is_triggered_only = yes

	immediate = {
		enable_special_project = {
			name = MIPO_ASSIMILATION_PROJECT
			location = event_target:mipo_to_be_assimilated_capital
		}
	}
}

# ROMULAN ASSIMILATION SPECIAL PROJECT COMPLETE
country_event = {
	id = country.3120
	title = "country.3120.name"
	desc = "country.3120.desc"
    show_sound = event_generic_popup
    is_triggered_only = yes
	picture = GFX_evt_spy_mission_romulan

	# Assimiliate
	option = {
		name = country.3120.a
		custom_tooltip = country.3120.a.tt

		hidden_effect = {
			country_event = {
				id = country.3122
			}
		}
	}

	# Keep as Puppet
	option = {
		name = country.3120.b
		custom_tooltip = country.3120.b.tt

		#Trigger special project again
		hidden_effect = {
			country_event = {
				id = country.3111
			}
		}

		#Resource Reward
		add_monthly_resource_mult = {
			resource = unity
			value = 3
		}
		add_monthly_resource_mult = {
			resource = energy
			value = 3
		}
		add_monthly_resource_mult = {
			resource = alloys
			value = 3
		}
		add_resource = {
			influence = 150
		}
	}
}

# DO WE ASSIMILATE? - AI EVENT
country_event = {
	id = country.3121
	hide_window = yes
    is_triggered_only = yes

	immediate = {

		IF = {
			limit = {
				exists = event_target:mipo_to_be_assimilated
				event_target:mipo_to_be_assimilated = {
					is_subject_type = puppet_state
				}
			}

			random_list = {
				1 = { #Better luck next time, chump!
					country_event = { id = country.3121 days = 180 } 
					country_event = { id = country.3123 days = 1 } 
				} 
				
				1 = { country_event = { id = country.3122 days = 1  } } #Assimilate
			}
		}
	}
}

# ASSIMILATION EFFECT
country_event = {
	id = country.3122
	hide_window = yes
    is_triggered_only = yes

	immediate = {

		IF = {
			limit = {
				exists = event_target:mipo_to_be_assimilated
				event_target:mipo_to_be_assimilated = {
					is_subject_type = puppet_state
				}
			}

			#Romulan Assimilation Effect
			execute_assimilate_puppet_state = event_target:mipo_to_be_assimilated
		}
	}
}

# FAILED TO ASSIMILATE AS AN AI REWARD
country_event = {
	id = country.3123
	hide_window = yes
    is_triggered_only = yes

	immediate = {
		#Resource Reward
		add_monthly_resource_mult = {
			resource = unity
			value = 3
		}
		add_monthly_resource_mult = {
			resource = energy
			value = 3
		}
		add_monthly_resource_mult = {
			resource = alloys
			value = 3
		}
		add_resource = {
			influence = 150
		}
	}
}

# PROJECT EXPIRED, SUBJECT RELEASED
country_event = {
	id = country.3130
	hide_window = yes
    is_triggered_only = yes

	immediate = {
		set_subject_of = {
			who = none
		}
	}
}

# SUBJECT NO LONGER OUR PUPPET POP-UP
country_event = {
	id = country.3140
	title = "country.3140.name"
	desc = "country.3140.desc"
    show_sound = event_generic_popup
    is_triggered_only = yes
	picture = GFX_evt_star_chart_meeting_romulan

	# Assimiliate
	option = {
		name = country.3140.a
	}
}

###########

### DLC EVENTS ###

# CHECK IF YOU ARE IN THE TUTORIAL. IF YOU'RE NOT, THEN YOU GET THE CERRITOS IF ALL OTHER CONDITIONS ARE MET
country_event = {
	id = country.3199
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { 
				is_tutorial_active = no
			}
			country_event = {
				id = country.3200 days = 30
			}
		}
		else = {
			country_event = {
				id = country.3199 days = 30
			}
		}
	}
}

# GIVE THE CALIFORNIA SIZE TO THE UFOP IF THEY HAVE THE DLC
country_event = {
	id = country.3200
	title = "country.3200.name"
	desc = "country.3200.desc"
    show_sound = event_generic_success
    is_triggered_only = yes
	picture = GFX_evt_highway_ftl_travel_cerritos_ufop

	trigger = {
		host_has_dlc = "Pre Order Bonus"
		is_ufop = yes
		is_tutorial_active = no
	}

	option = {
		name = country.3200.a
		custom_tooltip = country.3200.a.tt

		#Add the Cerritos
		create_fleet = {
			name = "NAME_uss_cerritos_fleet"
			effect = {
				set_owner = event_target:ufop_country
				create_ship = {
					name = "NAME_uss_cerritos"
					design = "NAME_california_hero"
					initial_officers_perc = 1
				}
				set_location = {
					target = event_target:ufop_homeworld
					distance = 10
					angle = random
				}
			}
		}
	}

	option = {
		name = country.3200.b
		custom_tooltip = country.3200.b.tt

		#Add the Cerritos
		create_fleet = {
			name = "NAME_uss_cerritos_fleet"
			effect = {
				set_owner = event_target:ufop_country
				create_ship = {
					name = "NAME_uss_cerritos"
					design = "NAME_california_hero"
					initial_officers_perc = 1
				}
				set_location = {
					target = event_target:ufop_homeworld
					distance = 10
					angle = random
				}
			}
		}
		
		event_target:ufop_country = {
			enable_deluxe_uniform = yes
	  	}
	}
}

# Remove modifiers from planet on Governor getting elected as Ruler

leader_event = {
	id = country.3300
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		days_passed > 1
		leader_class = governor
		has_leader_flag = gov_doing_mission
	}

	immediate = {
		fleet = {
			save_event_target_as = governor_fleet
			solar_system = {
				random_system_planet = {
					limit = {
						OR = {
							has_planet_flag = gov_improve_workers_planet_flag
							has_planet_flag = gov_improve_specialists_planet_flag
							has_planet_flag = gov_improve_stability_planet_flag
							has_planet_flag = gov_emergency_package_leader_flag
						}
						any_fleet_in_orbit = {
							is_same_value = event_target:governor_fleet
						}
					}
					save_event_target_as = governor_mission_scope
				}
			}
			remove_gov_improve_workers_modifier = yes
			remove_gov_improve_specialists_modifier = yes
			remove_gov_improve_stability_modifier = yes
			remove_gov_emergency_package_modifier = yes
			governor_mission_misc_effects_remove = yes
		}
	}
}


##############################
#
#    NEW COUNTRY EVENTS
#
##############################




# UFOP Initializer
country_event = {
	id = country.9000
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = ufop
	}

	immediate = {
		hidden_effect = {

			every_owned_fleet = {
				limit = {
					is_ship_class = shipclass_military
				}
				
				delete_fleet = {
					target = THIS
					destroy_template = yes
				}
			}

			event_target:ufop_primary_star = {
				solar_system = {
					every_fleet_in_system = {
						limit = {
							OR = {
								is_ship_class = shipclass_starbase
							}
						}
						save_global_event_target_as = ufop_military_station
					}

					random_ship_in_system = {
						limit = {
							is_ship_class = shipclass_starbase
						}
						save_global_event_target_as = ufop_sol_starbase_ship
					}
				}
			}

			# UFOP Starbase orbits the Earth----------------------
			event_target:ufop_military_station = {
				set_location = event_target:ufop_homeworld

				# External Name
				set_name = "NAME_UFOP_Sol_Starbase"

				# Station (ship) Name
				random_owned_ship = {
					set_name = "NAME_UFOP_Sol_Starbase"
				}
			}
			#-----------------------------------------------------
			
			if = {
				limit = { is_tutorial = no }

				create_fleet = {
					name = "NAME_UFOP_First_Fleet"
					settings = {
						spawn_debris = no
					}
				
					effect = {
						set_fleet_stance = passive
						set_owner = root
						
						while = {
							count = 3

							create_ship = {
								name = ""
								prefix = no
								random_existing_design = excelsior
								#design = "NAME_Miranda" # HRB_TODO: The game is not recognising this design. For now, we are using "random_existing_design = "
								initial_officers_perc = 1
								graphical_culture = prev
							}
						}

						set_location = event_target:ufop_military_station
					}
				}

				last_created_fleet = {
					save_global_event_target_as = ufop_main_fleet
				}
			}

			# Fleets Orbit the Starbase
			event_target:ufop_primary_star = {
				solar_system = {
					every_fleet_in_system = {
						limit = {
							OR = {
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_governor_ship
							}
						}
						set_location = event_target:ufop_military_station
					}
				}
			}
		}
	}
}

# Klingon Initializer
country_event = {
	id = country.9001
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = klingon
	}

	immediate = {
		hidden_effect = {

			every_owned_fleet = {
				limit = {
					is_ship_class = shipclass_military
				}
				
				delete_fleet = {
					target = THIS
					destroy_template = yes
				}
			}

			event_target:klingon_primary_star = {
				solar_system = {
					every_fleet_in_system = {
						limit = {
							OR = {
								is_ship_class = shipclass_starbase
							}
						}
						save_global_event_target_as = klingon_military_station
					}

					random_ship_in_system = {
						limit = {
							is_ship_class = shipclass_starbase
						}
						save_global_event_target_as = klingon_sol_starbase_ship
					}
				}
			}
			
			create_fleet = {
				name = "NAME_UFOP_First_Fleet"
				settings = { 
					spawn_debris = no
				}
			
				effect = {
					set_fleet_stance = passive
					set_owner = root
					
					while = {
						count = 3

						create_ship = {
							name = ""
							prefix = no
							random_existing_design = ktinga
							#design = "NAME_Bird_Of_Prey" # HRB_TODO: The game is not recognising this design. For now, we are using "random_existing_design = "
							initial_officers_perc = 1
							graphical_culture = prev
						}
					}

					set_location = event_target:klingon_military_station
				}
			}

			last_created_fleet = {
				save_global_event_target_as = klingon_main_fleet
			}
		}
	}
}

# Romulan Initializer
country_event = {
	id = country.9002
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = romulan
	}

	immediate = {
		hidden_effect = {

			every_owned_fleet = {
				limit = {
					is_ship_class = shipclass_military
				}
				
				delete_fleet = {
					target = THIS
					destroy_template = yes
				}
			}

			event_target:romulan_primary_star = {
				solar_system = {
					every_fleet_in_system = {
						limit = {
							OR = {
								is_ship_class = shipclass_starbase
							}
						}
						save_global_event_target_as = romulan_military_station
					}

					random_ship_in_system = {
						limit = {
							is_ship_class = shipclass_starbase
						}
						save_global_event_target_as = romulan_sol_starbase_ship
					}
				}
			}
			
			create_fleet = {
				name = "NAME_UFOP_First_Fleet"
				settings = { 
					spawn_debris = no
				}
			
				effect = {
					set_fleet_stance = passive
					set_owner = root
					
					while = {
						count = 2

						create_ship = {
							name = ""
							prefix = no
							random_existing_design = dderidex
							#design = "NAME_Ferrax" # HRB_TODO: The game is not recognising this design. For now, we are using "random_existing_design = "
							initial_officers_perc = 1
							graphical_culture = prev
						}
					}

					set_location = event_target:romulan_military_station
				}
			}

			last_created_fleet = {
				save_global_event_target_as = romulan_main_fleet
			}
		}
	}
}

# Cardassian Initializer
country_event = {
	id = country.9003
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = cardassia
	}

	immediate = {
		hidden_effect = {
			every_owned_fleet = {
				limit = {
					is_ship_class = shipclass_military
				}
				
				delete_fleet = {
					target = THIS
					destroy_template = yes
				}
			}

			event_target:cardassian_primary_star = {
				solar_system = {
					every_fleet_in_system = {
						limit = {
							OR = {
								is_ship_class = shipclass_starbase
							}
						}
						save_global_event_target_as = cardassian_military_station
					}

					random_ship_in_system = {
						limit = {
							is_ship_class = shipclass_starbase
						}
						save_global_event_target_as = cardassian_sol_starbase_ship
					}
				}
			}
			
			create_fleet = {
				name = "NAME_UFOP_First_Fleet"
				settings = { 
					spawn_debris = no
				}
			
				effect = {
					set_fleet_stance = passive
					set_owner = root

					while = {
						count = 4

						create_ship = {
							name = ""
							prefix = no
							random_existing_design = galor
							#design = "NAME_Hideki" # HRB_TODO: The game is not recognising this design. For now, we are using "random_existing_design = "
							initial_officers_perc = 1
							graphical_culture = prev
						}
					}

					set_location = event_target:cardassian_military_station
				}
			}

			last_created_fleet = {
				save_global_event_target_as = cardassian_main_fleet
			}
		}
	}
}

